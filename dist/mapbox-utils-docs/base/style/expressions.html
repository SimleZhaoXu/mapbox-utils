<!DOCTYPE html>
<html lang="zh-CN" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Expressions | docs:mapbox-utils</title>
    <meta name="description" content="A VitePress site">
    <link rel="preload stylesheet" href="/mapbox-utils-docs/assets/style.1bc3c030.css" as="style">
    <script type="module" src="/mapbox-utils-docs/assets/app.6906bdc2.js"></script>
    <link rel="preload" href="/mapbox-utils-docs/assets/inter-roman-latin.2ed14f66.woff2" as="font" type="font/woff2" crossorigin="">
  <link rel="modulepreload" href="/mapbox-utils-docs/assets/chunks/framework.73679867.js">
  <link rel="modulepreload" href="/mapbox-utils-docs/assets/chunks/theme.fe21c5c1.js">
  <link rel="modulepreload" href="/mapbox-utils-docs/assets/base_style_expressions.md.92e5ed15.lean.js">
  <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-47d85be2><!--[--><!--]--><!--[--><span tabindex="-1" data-v-b1e5adb7></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-b1e5adb7> Skip to content </a><!--]--><!----><header class="VPNav" data-v-47d85be2 data-v-7c10a9e2><div class="VPNavBar has-sidebar" data-v-7c10a9e2 data-v-b1bba9bb><div class="container" data-v-b1bba9bb><div class="title" data-v-b1bba9bb><div class="VPNavBarTitle has-sidebar" data-v-b1bba9bb data-v-4b4b99f1><a class="title" href="/mapbox-utils-docs/" data-v-4b4b99f1><!--[--><!--]--><!----><!--[-->基于MapBox的地图组件<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-b1bba9bb><div class="curtain" data-v-b1bba9bb></div><div class="content-body" data-v-b1bba9bb><!--[--><!--]--><!----><!----><!----><div class="VPNavBarAppearance appearance" data-v-b1bba9bb data-v-98566150><label title="toggle dark mode" data-v-98566150 data-v-12bb4a49><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-checked="false" data-v-12bb4a49 data-v-0832a754><span class="check" data-v-0832a754><span class="icon" data-v-0832a754><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-12bb4a49><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-12bb4a49><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></label></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-b1bba9bb data-v-608cba8b data-v-e4ec5600><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-e4ec5600><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-e4ec5600><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-e4ec5600><div class="VPMenu" data-v-e4ec5600 data-v-97491713><!----><!--[--><!--[--><!----><div class="group" data-v-608cba8b><div class="item appearance" data-v-608cba8b><p class="label" data-v-608cba8b>Appearance</p><div class="appearance-action" data-v-608cba8b><label title="toggle dark mode" data-v-608cba8b data-v-12bb4a49><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-checked="false" data-v-12bb4a49 data-v-0832a754><span class="check" data-v-0832a754><span class="icon" data-v-0832a754><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-12bb4a49><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-12bb4a49><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></label></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-b1bba9bb data-v-5dea55bf><span class="container" data-v-5dea55bf><span class="top" data-v-5dea55bf></span><span class="middle" data-v-5dea55bf></span><span class="bottom" data-v-5dea55bf></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav" data-v-47d85be2 data-v-117fc0fa><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-117fc0fa><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-117fc0fa><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-117fc0fa>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-117fc0fa data-v-c7151884><button data-v-c7151884>Return to top</button><!----></div></div><aside class="VPSidebar" data-v-47d85be2 data-v-0640f721><div class="curtain" data-v-0640f721></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-0640f721><span class="visually-hidden" id="sidebar-aria-label" data-v-0640f721> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-0640f721><section class="VPSidebarItem level-0 has-active" data-v-0640f721 data-v-9a82e1d6><div class="item" role="button" tabindex="0" data-v-9a82e1d6><div class="indicator" data-v-9a82e1d6></div><h2 class="text" data-v-9a82e1d6>基础</h2><!----></div><div class="items" data-v-9a82e1d6><!--[--><div class="VPSidebarItem level-1 is-link" data-v-9a82e1d6 data-v-9a82e1d6><div class="item" data-v-9a82e1d6><div class="indicator" data-v-9a82e1d6></div><a class="VPLink link link" href="/mapbox-utils-docs/base/install.html" data-v-9a82e1d6 data-v-40bbea7a><!--[--><p class="text" data-v-9a82e1d6>安装与使用</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9a82e1d6 data-v-9a82e1d6><div class="item" data-v-9a82e1d6><div class="indicator" data-v-9a82e1d6></div><a class="VPLink link link" href="/mapbox-utils-docs/base/changelog.html" data-v-9a82e1d6 data-v-40bbea7a><!--[--><p class="text" data-v-9a82e1d6>更新日志</p><!--]--><!----></a><!----></div><!----></div><section class="VPSidebarItem level-1 is-link has-active" data-v-9a82e1d6 data-v-9a82e1d6><div class="item" tabindex="0" data-v-9a82e1d6><div class="indicator" data-v-9a82e1d6></div><a class="VPLink link link" href="/mapbox-utils-docs/base/style.html" data-v-9a82e1d6 data-v-40bbea7a><!--[--><h3 class="text" data-v-9a82e1d6>Mapbox Style规范</h3><!--]--><!----></a><!----></div><div class="items" data-v-9a82e1d6><!--[--><div class="VPSidebarItem level-2 is-link" data-v-9a82e1d6 data-v-9a82e1d6><div class="item" data-v-9a82e1d6><div class="indicator" data-v-9a82e1d6></div><a class="VPLink link link" href="/mapbox-utils-docs/base/style/sources.html" data-v-9a82e1d6 data-v-40bbea7a><!--[--><p class="text" data-v-9a82e1d6>Sources</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-9a82e1d6 data-v-9a82e1d6><div class="item" data-v-9a82e1d6><div class="indicator" data-v-9a82e1d6></div><a class="VPLink link link" href="/mapbox-utils-docs/base/style/layers.html" data-v-9a82e1d6 data-v-40bbea7a><!--[--><p class="text" data-v-9a82e1d6>Layers</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link is-active has-active" data-v-9a82e1d6 data-v-9a82e1d6><div class="item" data-v-9a82e1d6><div class="indicator" data-v-9a82e1d6></div><a class="VPLink link link" href="/mapbox-utils-docs/base/style/expressions.html" data-v-9a82e1d6 data-v-40bbea7a><!--[--><p class="text" data-v-9a82e1d6>Expressions</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-9a82e1d6 data-v-9a82e1d6><div class="item" data-v-9a82e1d6><div class="indicator" data-v-9a82e1d6></div><a class="VPLink link link" href="/mapbox-utils-docs/base/style/functions.html" data-v-9a82e1d6 data-v-40bbea7a><!--[--><p class="text" data-v-9a82e1d6>Functions</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section></div><div class="group" data-v-0640f721><section class="VPSidebarItem level-0" data-v-0640f721 data-v-9a82e1d6><div class="item" role="button" tabindex="0" data-v-9a82e1d6><div class="indicator" data-v-9a82e1d6></div><h2 class="text" data-v-9a82e1d6>图层</h2><!----></div><div class="items" data-v-9a82e1d6><!--[--><div class="VPSidebarItem level-1 is-link" data-v-9a82e1d6 data-v-9a82e1d6><div class="item" data-v-9a82e1d6><div class="indicator" data-v-9a82e1d6></div><a class="VPLink link link" href="/mapbox-utils-docs/layer/circle-point-layer.html" data-v-9a82e1d6 data-v-40bbea7a><!--[--><p class="text" data-v-9a82e1d6>圆点图层</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9a82e1d6 data-v-9a82e1d6><div class="item" data-v-9a82e1d6><div class="indicator" data-v-9a82e1d6></div><a class="VPLink link link" href="/mapbox-utils-docs/layer/symbol-point-layer.html" data-v-9a82e1d6 data-v-40bbea7a><!--[--><p class="text" data-v-9a82e1d6>图标图层</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9a82e1d6 data-v-9a82e1d6><div class="item" data-v-9a82e1d6><div class="indicator" data-v-9a82e1d6></div><a class="VPLink link link" href="/mapbox-utils-docs/layer/marker-point-layer.html" data-v-9a82e1d6 data-v-40bbea7a><!--[--><p class="text" data-v-9a82e1d6>Marker点图层</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9a82e1d6 data-v-9a82e1d6><div class="item" data-v-9a82e1d6><div class="indicator" data-v-9a82e1d6></div><a class="VPLink link link" href="/mapbox-utils-docs/layer/line-layer.html" data-v-9a82e1d6 data-v-40bbea7a><!--[--><p class="text" data-v-9a82e1d6>线图层</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9a82e1d6 data-v-9a82e1d6><div class="item" data-v-9a82e1d6><div class="indicator" data-v-9a82e1d6></div><a class="VPLink link link" href="/mapbox-utils-docs/layer/polygon-layer.html" data-v-9a82e1d6 data-v-40bbea7a><!--[--><p class="text" data-v-9a82e1d6>多边形图层</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9a82e1d6 data-v-9a82e1d6><div class="item" data-v-9a82e1d6><div class="indicator" data-v-9a82e1d6></div><a class="VPLink link link" href="/mapbox-utils-docs/layer/symbol-cluster-layer.html" data-v-9a82e1d6 data-v-40bbea7a><!--[--><p class="text" data-v-9a82e1d6>图标聚合点图层</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9a82e1d6 data-v-9a82e1d6><div class="item" data-v-9a82e1d6><div class="indicator" data-v-9a82e1d6></div><a class="VPLink link link" href="/mapbox-utils-docs/layer/circle-cluster-layer.html" data-v-9a82e1d6 data-v-40bbea7a><!--[--><p class="text" data-v-9a82e1d6>圆点聚合点图层</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9a82e1d6 data-v-9a82e1d6><div class="item" data-v-9a82e1d6><div class="indicator" data-v-9a82e1d6></div><a class="VPLink link link" href="/mapbox-utils-docs/layer/advance-point-layer.html" data-v-9a82e1d6 data-v-40bbea7a><!--[--><p class="text" data-v-9a82e1d6>高级点图层</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9a82e1d6 data-v-9a82e1d6><div class="item" data-v-9a82e1d6><div class="indicator" data-v-9a82e1d6></div><a class="VPLink link link" href="/mapbox-utils-docs/layer/advance-line-layer.html" data-v-9a82e1d6 data-v-40bbea7a><!--[--><p class="text" data-v-9a82e1d6>高级线图层</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9a82e1d6 data-v-9a82e1d6><div class="item" data-v-9a82e1d6><div class="indicator" data-v-9a82e1d6></div><a class="VPLink link link" href="/mapbox-utils-docs/layer/advance-polygon-layer.html" data-v-9a82e1d6 data-v-40bbea7a><!--[--><p class="text" data-v-9a82e1d6>高级多边形图层</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9a82e1d6 data-v-9a82e1d6><div class="item" data-v-9a82e1d6><div class="indicator" data-v-9a82e1d6></div><a class="VPLink link link" href="/mapbox-utils-docs/layer/heatmap-layer.html" data-v-9a82e1d6 data-v-40bbea7a><!--[--><p class="text" data-v-9a82e1d6>热力图图层</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9a82e1d6 data-v-9a82e1d6><div class="item" data-v-9a82e1d6><div class="indicator" data-v-9a82e1d6></div><a class="VPLink link link" href="/mapbox-utils-docs/layer/buffer-layer.html" data-v-9a82e1d6 data-v-40bbea7a><!--[--><p class="text" data-v-9a82e1d6>缓冲区图层</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9a82e1d6 data-v-9a82e1d6><div class="item" data-v-9a82e1d6><div class="indicator" data-v-9a82e1d6></div><a class="VPLink link link" href="/mapbox-utils-docs/layer/prismoid-layer.html" data-v-9a82e1d6 data-v-40bbea7a><!--[--><p class="text" data-v-9a82e1d6>柱状图图层</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9a82e1d6 data-v-9a82e1d6><div class="item" data-v-9a82e1d6><div class="indicator" data-v-9a82e1d6></div><a class="VPLink link link" href="/mapbox-utils-docs/layer/car-track.html" data-v-9a82e1d6 data-v-40bbea7a><!--[--><p class="text" data-v-9a82e1d6>轨迹播放</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9a82e1d6 data-v-9a82e1d6><div class="item" data-v-9a82e1d6><div class="indicator" data-v-9a82e1d6></div><a class="VPLink link link" href="/mapbox-utils-docs/layer/advance-car-track.html" data-v-9a82e1d6 data-v-40bbea7a><!--[--><p class="text" data-v-9a82e1d6>高级轨迹播放</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9a82e1d6 data-v-9a82e1d6><div class="item" data-v-9a82e1d6><div class="indicator" data-v-9a82e1d6></div><a class="VPLink link link" href="/mapbox-utils-docs/layer/advance-buffer.html" data-v-9a82e1d6 data-v-40bbea7a><!--[--><p class="text" data-v-9a82e1d6>高级缓冲区</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-0640f721><section class="VPSidebarItem level-0" data-v-0640f721 data-v-9a82e1d6><div class="item" role="button" tabindex="0" data-v-9a82e1d6><div class="indicator" data-v-9a82e1d6></div><h2 class="text" data-v-9a82e1d6>工具</h2><!----></div><div class="items" data-v-9a82e1d6><!--[--><div class="VPSidebarItem level-1 is-link" data-v-9a82e1d6 data-v-9a82e1d6><div class="item" data-v-9a82e1d6><div class="indicator" data-v-9a82e1d6></div><a class="VPLink link link" href="/mapbox-utils-docs/util/point-picker.html" data-v-9a82e1d6 data-v-40bbea7a><!--[--><p class="text" data-v-9a82e1d6>坐标选取</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9a82e1d6 data-v-9a82e1d6><div class="item" data-v-9a82e1d6><div class="indicator" data-v-9a82e1d6></div><a class="VPLink link link" href="/mapbox-utils-docs/util/line-picker.html" data-v-9a82e1d6 data-v-40bbea7a><!--[--><p class="text" data-v-9a82e1d6>路径选取</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9a82e1d6 data-v-9a82e1d6><div class="item" data-v-9a82e1d6><div class="indicator" data-v-9a82e1d6></div><a class="VPLink link link" href="/mapbox-utils-docs/util/polygon-area-picker.html" data-v-9a82e1d6 data-v-40bbea7a><!--[--><p class="text" data-v-9a82e1d6>区域框选（多边形）</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9a82e1d6 data-v-9a82e1d6><div class="item" data-v-9a82e1d6><div class="indicator" data-v-9a82e1d6></div><a class="VPLink link link" href="/mapbox-utils-docs/util/rect-area-picker.html" data-v-9a82e1d6 data-v-40bbea7a><!--[--><p class="text" data-v-9a82e1d6>区域框选（矩形）</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9a82e1d6 data-v-9a82e1d6><div class="item" data-v-9a82e1d6><div class="indicator" data-v-9a82e1d6></div><a class="VPLink link link" href="/mapbox-utils-docs/util/circle-area-picker.html" data-v-9a82e1d6 data-v-40bbea7a><!--[--><p class="text" data-v-9a82e1d6>区域框选（圆）</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9a82e1d6 data-v-9a82e1d6><div class="item" data-v-9a82e1d6><div class="indicator" data-v-9a82e1d6></div><a class="VPLink link link" href="/mapbox-utils-docs/util/map-comparer.html" data-v-9a82e1d6 data-v-40bbea7a><!--[--><p class="text" data-v-9a82e1d6>地图卷帘</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9a82e1d6 data-v-9a82e1d6><div class="item" data-v-9a82e1d6><div class="indicator" data-v-9a82e1d6></div><a class="VPLink link link" href="/mapbox-utils-docs/util/distance-measurer.html" data-v-9a82e1d6 data-v-40bbea7a><!--[--><p class="text" data-v-9a82e1d6>测距</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9a82e1d6 data-v-9a82e1d6><div class="item" data-v-9a82e1d6><div class="indicator" data-v-9a82e1d6></div><a class="VPLink link link" href="/mapbox-utils-docs/util/area-measurer.html" data-v-9a82e1d6 data-v-40bbea7a><!--[--><p class="text" data-v-9a82e1d6>测面积</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9a82e1d6 data-v-9a82e1d6><div class="item" data-v-9a82e1d6><div class="indicator" data-v-9a82e1d6></div><a class="VPLink link link" href="/mapbox-utils-docs/util/draw-util.html" data-v-9a82e1d6 data-v-40bbea7a><!--[--><p class="text" data-v-9a82e1d6>绘制工具</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-0640f721><section class="VPSidebarItem level-0 is-link" data-v-0640f721 data-v-9a82e1d6><div class="item" tabindex="0" data-v-9a82e1d6><div class="indicator" data-v-9a82e1d6></div><a class="VPLink link link" href="/mapbox-utils-docs/three/index.html" data-v-9a82e1d6 data-v-40bbea7a><!--[--><h2 class="text" data-v-9a82e1d6>ThreeJS</h2><!--]--><!----></a><!----></div><div class="items" data-v-9a82e1d6><!--[--><div class="VPSidebarItem level-1 is-link" data-v-9a82e1d6 data-v-9a82e1d6><div class="item" data-v-9a82e1d6><div class="indicator" data-v-9a82e1d6></div><a class="VPLink link link" href="/mapbox-utils-docs/three/box.html" data-v-9a82e1d6 data-v-40bbea7a><!--[--><p class="text" data-v-9a82e1d6>加载threejs物体</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9a82e1d6 data-v-9a82e1d6><div class="item" data-v-9a82e1d6><div class="indicator" data-v-9a82e1d6></div><a class="VPLink link link" href="/mapbox-utils-docs/three/model-glb.html" data-v-9a82e1d6 data-v-40bbea7a><!--[--><p class="text" data-v-9a82e1d6>加载3维模型(glb)</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9a82e1d6 data-v-9a82e1d6><div class="item" data-v-9a82e1d6><div class="indicator" data-v-9a82e1d6></div><a class="VPLink link link" href="/mapbox-utils-docs/three/model-fbx.html" data-v-9a82e1d6 data-v-40bbea7a><!--[--><p class="text" data-v-9a82e1d6>加载3维模型(fbx)</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9a82e1d6 data-v-9a82e1d6><div class="item" data-v-9a82e1d6><div class="indicator" data-v-9a82e1d6></div><a class="VPLink link link" href="/mapbox-utils-docs/three/model-gltf.html" data-v-9a82e1d6 data-v-40bbea7a><!--[--><p class="text" data-v-9a82e1d6>加载3维模型(gltf)</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9a82e1d6 data-v-9a82e1d6><div class="item" data-v-9a82e1d6><div class="indicator" data-v-9a82e1d6></div><a class="VPLink link link" href="/mapbox-utils-docs/three/3D-point.html" data-v-9a82e1d6 data-v-40bbea7a><!--[--><p class="text" data-v-9a82e1d6>加载3D点位</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-0640f721><div class="VPSidebarItem level-0 is-link" data-v-0640f721 data-v-9a82e1d6><div class="item" tabindex="0" data-v-9a82e1d6><div class="indicator" data-v-9a82e1d6></div><a class="VPLink link link" href="/mapbox-utils-docs/poi-management/index.html" data-v-9a82e1d6 data-v-40bbea7a><!--[--><p class="text" data-v-9a82e1d6>兴趣点管理</p><!--]--><!----></a><!----></div><!----></div></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-47d85be2 data-v-e5e2cac7><div class="VPDoc has-sidebar has-aside" data-v-e5e2cac7 data-v-5e059b96><div class="container" data-v-5e059b96><div class="aside" data-v-5e059b96><div class="aside-curtain" data-v-5e059b96></div><div class="aside-container" data-v-5e059b96><div class="aside-content" data-v-5e059b96><div class="VPDocAside" data-v-5e059b96 data-v-6d7b3c46><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" data-v-6d7b3c46 data-v-9bb6ddc9><div class="content" data-v-9bb6ddc9><div class="outline-marker" data-v-9bb6ddc9></div><div class="outline-title" data-v-9bb6ddc9>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-9bb6ddc9><span class="visually-hidden" id="doc-outline-aria-label" data-v-9bb6ddc9> Table of Contents for current page </span><ul class="root" data-v-9bb6ddc9 data-v-3e213931><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-6d7b3c46></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-5e059b96><div class="content-container" data-v-5e059b96><!--[--><!--]--><!----><main class="main" data-v-5e059b96><div style="position:relative;" class="vp-doc _mapbox-utils-docs_base_style_expressions" data-v-5e059b96><div><h1 id="expressions" tabindex="-1">Expressions <a class="header-anchor" href="#expressions" aria-label="Permalink to &quot;Expressions&quot;">​</a></h1><p><code>Expressions</code>：表达式集合（并非 <code>style</code> 的属性，只是 <code>layer</code> 的任何 <code>layout</code> 布局属性和 <code>paint</code> 绘制属性，以及 <code>filter</code> 属性等，它们的值都可以指定成一个表达式 <code>Expression</code>） 一个 <code>Expression</code> 定义了一个公式，总体来说可以将公式中的操作符分为以下 <code>5</code> 种：</p><ul><li><code>Mathematical operators</code>：数学操作符，用来对数值进行数学运算</li><li><code>Logical operators</code>：逻辑操作符，用来计算布尔值和条件控制</li><li><code>String operators</code>：字符串操作符，用来操作字符串</li><li><code>Data operators</code>：数据操作符，用来访问数据源中的要素 feature</li><li><code>Camera operators</code>：照相机操作符，用来访问当前地图视图的各个参数</li></ul><p><code>Expressions</code> 是 <code>Expression</code> 的集合。而 <code>Expression</code> 是以 <code>JSON</code> 数组的形式来表示的，数组的第一个元素是 <code>Expression</code> 的操作符的名称，后续的元素表示操作的参数（也可以是一个 <code>Expression）。</code></p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#BABED8;">[expression_name</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> argument_0</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> argument_1</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> expression_1</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">...</span><span style="color:#BABED8;">]</span></span>
<span class="line"></span></code></pre></div><p>由以上 <code>5</code> 种操作符，相应地可以推出 <code>5</code> 种表达式集合 <code>Expressions</code>，并且相互之间可以组合使用：</p><p><code>Mathematical expressions</code><code>Logical expressions</code><code>String expressions</code><code>Data expressions</code><code>Camera expressions</code></p><p>这里主要讲述 <code>Data expressions</code> 和 <code>Camera expressions。</code></p><h2 id="data-expressions" tabindex="-1">Data expressions <a class="header-anchor" href="#data-expressions" aria-label="Permalink to &quot;Data expressions&quot;">​</a></h2><p>一个 data expression 是可以访问要素数据的任何表达式。而这些表达式使用了以下至少一种数据操作符：</p><ul><li><code>get</code>：用于获取要素的属性值，格式为 [&quot;get&quot;, &quot;property_name&quot;]，余下具体的可以看 <a href="#expression-reference">Expression reference</a></li><li><code>has</code></li><li><code>id</code></li><li><code>geometry-type</code></li><li><code>properties</code></li><li><code>feature-state</code></li></ul><p>通过 <code>data expression</code> 可以实现区分同一个图层中的不同要素，并以不同的形式呈现。比如设置颜色 <code>circle-color</code>：</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">circle-color</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">[</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">rgb</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;">// rgb 操作符，用于表达颜色：rgb(red, green, blue)</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">get</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">temperature</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">],</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;">// 获取属性 temperature 的值，作为 rgb 中的 red 的值</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;">// rgb 中的 green 始终为 0</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">-</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">100</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">get</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">temperature</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">]]</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;">// 用 100 减去属性 temperature 的值，作为 rgb 中的 blue 的值</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><div class="warning custom-block"><p class="custom-block-title">注意</p><p>需要注意的是，并非所有的 <code>layout</code> 布局类属性和 <code>paint</code> 绘制类属性都支持 <code>data expression</code>：</p><p>具体可以看 <code>SDK Support</code> 中的 <code>data-driven styling</code> 那一行；</p><p>而且使用了 <code>feature-state</code> 操作符的 <code>data expression</code> 仅在 <code>paint</code> 绘制类属性中可用。</p></div><p>以下是官网中记录的暂不支持数据表达式 <code>data expression</code> 的属性：</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#BABED8;">[</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">fill-antialias</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">fill-translate</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">fill-translate-anchor</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">line-cap</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">line-miter-limit</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">line-round-limit</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">visibility</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">line-translate</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">line-translate-anchor</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">line-dasharray</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">line-gradient</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">symbol-placement</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">symbol-spacing</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">symbol-avoid-edges</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">symbol-z-order</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">icon-allow-overlap</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">icon-ignore-placement</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">icon-optional</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">icon-rotation-alignment</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">icon-text-fit</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">icon-text-fit-padding</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">icon-padding</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">icon-keep-upright</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">icon-pitch-alignment</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">text-pitch-alignment</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">text-rotation-alignment</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">text-line-height</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">text-variable-anchor</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">text-max-angle</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">text-padding</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">text-keep-upright</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">text-allow-overlap</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">text-ignore-placement</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">text-optional</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">icon-translate</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">icon-translate-anchor</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">text-translate</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">text-translate-anchor</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">raster-opacity</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">raster-hue-rotate</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">raster-brightness-min</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">raster-brightness-max</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">raster-saturation</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">raster-contrast</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">raster-resampling</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">raster-fade-duration</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">circle-translate</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">circle-translate-anchor</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">circle-pitch-scale</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">circle-pitch-alignment</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">fill-extrusion-translate</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">fill-extrusion-translate-anchor</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">heatmap-intensity</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">heatmap-color</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">heatmap-opacity</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><h2 id="camera-expressions" tabindex="-1">Camera expressions <a class="header-anchor" href="#camera-expressions" aria-label="Permalink to &quot;Camera expressions&quot;">​</a></h2><p>一个 <code>camera expression</code> 是使用了 <code>zoom</code> 操作符的任何表达式。</p><p>通过 <code>camera expression</code> 可以实现图层 <code>layer</code> 根据地图的缩放层级 <code>zoom</code> 有不同的表现。 比如设置半径 <code>circle-radius</code>：</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">circle-radius</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">[</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">interpolate</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">linear</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">],</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">zoom</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">],</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;">// 通过 interpolate 操作符，为 circle-radius 和 zoom 之间定义一种线性关系 linear</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F78C6C;">5</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;">// 当 zoom &lt;= 5 时，circle-radius 为 1（单位：px）</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#676E95;font-style:italic;">// 当 5 &lt; zoom &lt; 10 时，circle-radius 的值在 1 ~ 5 之间线性分布</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F78C6C;">10</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F78C6C;">5</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;">// 当 zoom &gt;= 10 时，circle-radius 为 5（单位：px）</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>所有可以使用 <code>Expression</code> 的属性都支持 <code>camera expression</code>。不过当用于 <code>layout</code> 布局类属性和 <code>paint</code> 绘制类属性时，必须是以下几种格式：</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#BABED8;">[ </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">interpolate</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> interpolation</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> [</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">zoom</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">]</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">...</span><span style="color:#BABED8;"> ]</span></span>
<span class="line"></span></code></pre></div><p>或</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#BABED8;">[ </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">step</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> [</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">zoom</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">]</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">...</span><span style="color:#BABED8;"> ]</span></span>
<span class="line"></span></code></pre></div><p>或</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#BABED8;">[</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">let</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">...</span><span style="color:#BABED8;"> variable bindings</span><span style="color:#89DDFF;">...,</span></span>
<span class="line"><span style="color:#BABED8;">  [ </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">interpolate</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> interpolation</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> [</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">zoom</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">]</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">...</span><span style="color:#BABED8;"> ]</span></span>
<span class="line"><span style="color:#BABED8;">]</span></span>
<span class="line"></span></code></pre></div><p>或</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#BABED8;">[</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">let</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">...</span><span style="color:#BABED8;"> variable bindings</span><span style="color:#89DDFF;">...,</span></span>
<span class="line"><span style="color:#BABED8;">  [ </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">step</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> [</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">zoom</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">]</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">...</span><span style="color:#BABED8;"> ]</span></span>
<span class="line"><span style="color:#BABED8;">]</span></span>
<span class="line"></span></code></pre></div><p>因为 <code>[&quot;zoom&quot;]</code> 在 <code>layout</code> 布局类属性和 <code>paint</code> 绘制类属性中仅作为 <code>interpolate</code> 或 <code>step</code> 操作的输入参数。</p><div class="warning custom-block"><p class="custom-block-title">注意</p><p>需要注意，<code>layout</code> 布局类属性和 <code>paint</code> 绘制类属性有一个很重要的区别：</p><p><code>layout</code> 布局类属性中使用的 <code>camera expression</code> 只有在 <code>zoom</code> 的值是 <code>整数变化</code> 时才会重新计算。</p><p><code>paint</code> 绘制类型属性中使用的 <code>camera expression</code> 在 <code>zoom</code> 的值是 <code>小数变化</code> 时也会重新计算。比如 <code>zoom</code> 从 <code>4.1</code> 变为 <code>4.6</code>。</p></div><h2 id="expression-reference" tabindex="-1">Expression reference <a class="header-anchor" href="#expression-reference" aria-label="Permalink to &quot;Expression reference {#expression-reference}&quot;">​</a></h2><p>前面介绍了表达式集合 <code>Expressions</code>，简单地讲述了其中的 <code>Data expressions</code> 和 <code>Camera expressions</code>，而这些表达式里涉及和很多的操作符，这里就对每个操作符进行分类介绍，作为表达式的参考 <code>Expression reference</code>。</p><p>主要分为以下几类操作符：</p><ul><li><code>Types</code></li><li><code>Feature data</code></li><li><code>Lookup</code></li><li><code>Decision</code></li><li><code>Decision</code></li><li><code>Variable binding</code></li><li><code>String</code></li><li><code>Color</code></li><li><code>Math</code></li><li><code>Zoom</code></li><li><code>Heatmap</code></li></ul><h3 id="_1-types" tabindex="-1">(1) Types <a class="header-anchor" href="#_1-types" aria-label="Permalink to &quot;(1) Types&quot;">​</a></h3><p><code>Types</code>：这类操作符用于 <code>断言</code> 和 <code>转换</code> 数据的类型，包含的操作符如下：</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// (1) string  用于断言输入值是字符串。其对应的表达式有两种形式</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">string</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> value]: string</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">string</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> value</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> fallback: value</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> fallback: value</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">...</span><span style="color:#BABED8;">]: string</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// (2) boolean  用于断言输入的值是布尔值，如果不是则会报错。其对应的表达式有两种形式</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">boolean</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> value]: boolean</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">boolean</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> value</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> fallback: value</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> fallback: value</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">...</span><span style="color:#BABED8;">]: boolean</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// (3) number  用于断言输入值是数值，如果不是则会报错。其对应的表达式有两种形式</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">number</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> value]: number</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">number</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> value</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> fallback: value</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> fallback: value</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">...</span><span style="color:#BABED8;">]: number</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// (4) number-format  用于将数值转换为指定格式的字符串</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">number-format</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  input: number</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  options: </span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">locale</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> string</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">currency</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> string</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">min-fraction-digits</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> number</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">max-fraction-digits</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> number </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#BABED8;">]: string</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// (5) object  用于断言输入值是对象。其对应的表达式有两种形式</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">object</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> value]: object</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">object</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> value</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> fallback: value</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> fallback: value</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">...</span><span style="color:#BABED8;">]: object</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// (6) array  用于断言输入的值是数组，如果不是则会被终止。其对应的表达式有三种形式</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">array</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> value]: array</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">array</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> type: </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">string</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">|</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">number</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">|</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">boolean</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> value]: array</span><span style="color:#89DDFF;">&lt;</span><span style="color:#BABED8;">type</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">array</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> type: </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">string</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">|</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">number</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">|</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">boolean</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> N: </span><span style="color:#82AAFF;">number</span><span style="color:#BABED8;"> (literal)</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> value]: array</span><span style="color:#89DDFF;">&lt;</span><span style="color:#BABED8;">type</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> N</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// (7) literal  用于提供数组或对象的字面量</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">literal</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> [</span><span style="color:#89DDFF;">...</span><span style="color:#BABED8;">] (JSON array literal)]: array</span><span style="color:#89DDFF;">&lt;</span><span style="color:#BABED8;">T</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> N</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">literal</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{...}</span><span style="color:#BABED8;"> (JSON object literal)]: Object</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// (8) collator  通过设定本地 IETF 语言标记校对比较符</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">collator</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">case-sensitive</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> boolean</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">diacritic-sensitive</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> boolean</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">locale</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> string </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">]: collator</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// (9) format  用于格式化特定文本的大小和字体等。常见于对同个属性字段 text-field 的不同值的处理</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">format</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  input_1: string</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> options_1: </span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">font-scale</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> number</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">text-font</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> array</span><span style="color:#89DDFF;">&lt;</span><span style="color:#BABED8;">string</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">...,</span></span>
<span class="line"><span style="color:#BABED8;">  input_n: string</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> options_n: </span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">font-scale</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> number</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">text-font</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> array</span><span style="color:#89DDFF;">&lt;</span><span style="color:#BABED8;">string</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#BABED8;">]: formatted</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// (10) to-string  用于转换输入值为字符串</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">to-string</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> value]: string</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// (11) to-boolean  用于转换输入值为布尔值</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">to-boolean</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> value]: boolean</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// (12) to-number  用于转换输入值为数值</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">to-number</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> value</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> fallback: value</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> fallback: value</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">...</span><span style="color:#BABED8;">]: number</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// (13) to-color  用于转换输入值为颜色</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">to-color</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> value</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> fallback: value</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> fallback: value</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">...</span><span style="color:#BABED8;">]: color</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// (14) typeof  用于得到输入值的类型</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">typeof</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> value]: string</span></span>
<span class="line"></span></code></pre></div><h3 id="_2-feature-data" tabindex="-1">(2) Feature data <a class="header-anchor" href="#_2-feature-data" aria-label="Permalink to &quot;(2) Feature data&quot;">​</a></h3><p><code>Feature data</code>：这类操作符用于操作要素的数据。</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// (1) accumulated  获取一个群组的累计值。只限于 geojson 类型的数据源，并且设置了 cluster</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">accumulated</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">]: value</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// (2) feature-state  从当前的要素状态获取属性值。要素状态不是数据源里自带的，只能通过编程设置</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">feature-state</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> string]: value</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// (3) geometry-type  获取要素的几何类型。如 Point、MultiPoint、LineString、MultiLineString、Polygon、MultiPolygon</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">geometry-type</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">]: string</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// (4) id  获取要素的 id 属性值</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">id</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">]: value</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// (5) line-progress  获取渐变线的进度。只能用于设置了 line-gradient 的</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">line-progress</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">]: number</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// (6) properties  获取要素的属性对象。直接用表达式 [&quot;get&quot;, &quot;property_name&quot;] 效率更高</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">properties</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">]: object</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div><h3 id="_4-decision" tabindex="-1">(4) Decision <a class="header-anchor" href="#_4-decision" aria-label="Permalink to &quot;(4) Decision&quot;">​</a></h3><p><code>Decision</code>：这类操作符用于条件判断</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// (1) !  取反</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">!</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> boolean]: boolean</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// (2) !=  判断两数是否相等</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">!=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> value</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> value]: boolean</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">!=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> value</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> value</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> collator]: boolean</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// (3) &lt;  判断第一个数是否小于第二个数</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">&lt;</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> value</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> value]: boolean</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">&lt;</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> value</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> value</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> collator]: boolean</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// (4) &lt;=  判断第一个数是否小于等于第二个数</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">&lt;=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> value</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> value]: boolean</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">&lt;=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> value</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> value</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> collator]: boolean</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// (5) ==  判断第一个数是否等于第二个数</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">==</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> value</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> value]: boolean</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">==</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> value</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> value</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> collator]: boolean</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// (6) &gt;  判断第一个数是否大于第二个数</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">&gt;</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> value</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> value]: boolean</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">&gt;</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> value</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> value</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> collator]: boolean</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// (7) &gt;=  判断第一个数是否大于等于第二个数</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">&gt;=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> value</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> value]: boolean</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">&gt;=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> value</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> value</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> collator]: boolean</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// (8) all  判断是否所有的都为 true</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">all</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> boolean</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> boolean]: boolean</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">all</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> boolean</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> boolean</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">...</span><span style="color:#BABED8;">]: boolean</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// (9) any  判断是否有为 true 的</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">any</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> boolean</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> boolean]: boolean</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">any</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> boolean</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> boolean</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">...</span><span style="color:#BABED8;">]: boolean</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// (10) case  满足指定条件，则返回指定的数据</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">case</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    condition: boolean</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> output: OutputType</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    condition: boolean</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> output: OutputType</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">...,</span></span>
<span class="line"><span style="color:#BABED8;">    fallback: OutputType</span></span>
<span class="line"><span style="color:#BABED8;">]: OutputType</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// (11) coalesce  计算每个的值，直到获取到非空值，然后返回那个值</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">coalesce</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> OutputType</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> OutputType</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">...</span><span style="color:#BABED8;">]: OutputType</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// (12) match  当输入值（比如从属性中获取 [&quot;get&quot;, &quot;property_name&quot;] ）与指定的值匹配时，返回相应的值。</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">match</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    input: </span><span style="color:#82AAFF;">InputType</span><span style="color:#BABED8;"> (number or string)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    label: InputType </span><span style="color:#89DDFF;">|</span><span style="color:#BABED8;"> [InputType</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> InputType</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">...</span><span style="color:#BABED8;">]</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> output: OutputType</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    label: InputType </span><span style="color:#89DDFF;">|</span><span style="color:#BABED8;"> [InputType</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> InputType</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">...</span><span style="color:#BABED8;">]</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> output: OutputType</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">...,</span></span>
<span class="line"><span style="color:#BABED8;">    fallback: OutputType</span></span>
<span class="line"><span style="color:#BABED8;">]: OutputType</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div><h3 id="_5-ramps-scales-curves" tabindex="-1">(5) Ramps, scales, curves <a class="header-anchor" href="#_5-ramps-scales-curves" aria-label="Permalink to &quot;(5) Ramps, scales, curves&quot;">​</a></h3><p><code>Ramps</code>，<code>scales</code>，<code>curves</code> ：这类操作符用于渐变、缩放、曲线等特殊效果的设置。</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// (1) interpolate  通过在输入值和输出值之间进行插值，来生成持续、平滑的数据。输入值必须是数字，并且各个断点的值按升序排序，输出值可能是数字、数组或者颜色</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">interpolate</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    interpolation: [</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">linear</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">] </span><span style="color:#89DDFF;">|</span><span style="color:#BABED8;"> [</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">exponential</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> base] </span><span style="color:#89DDFF;">|</span><span style="color:#BABED8;"> [</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">cubic-bezier</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> x1</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> y1</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> x2</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> y2 ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    input: number</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    stop_input_1: number</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> stop_output_1: OutputType</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    stop_input_n: number</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> stop_output_n: OutputType</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">...</span></span>
<span class="line"><span style="color:#BABED8;">]: </span><span style="color:#82AAFF;">OutputType</span><span style="color:#BABED8;"> (number</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> array</span><span style="color:#89DDFF;">&lt;</span><span style="color:#BABED8;">number</span><span style="color:#89DDFF;">&gt;,</span><span style="color:#BABED8;"> or Color)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// (2) interpolate-hcl  类似 interpolate，不过输出值必须是颜色，并且插值属于 Hue-Chroma-Luminance 颜色空间</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">interpolate-hcl</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    interpolation: [</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">linear</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">] </span><span style="color:#89DDFF;">|</span><span style="color:#BABED8;"> [</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">exponential</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> base] </span><span style="color:#89DDFF;">|</span><span style="color:#BABED8;"> [</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">cubic-bezier</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> x1</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> y1</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> x2</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> y2 ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    input: number</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    stop_input_1: number</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> stop_output_1: Color</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    stop_input_n: number</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> stop_output_n: Color</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">...</span></span>
<span class="line"><span style="color:#BABED8;">]: Color</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// (3) interpolate-lab  类似 interpolate，不过输出值必须是颜色，并且插值属于 CIELAB 颜色空间</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">interpolate-lab</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    interpolation: [</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">linear</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">] </span><span style="color:#89DDFF;">|</span><span style="color:#BABED8;"> [</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">exponential</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> base] </span><span style="color:#89DDFF;">|</span><span style="color:#BABED8;"> [</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">cubic-bezier</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> x1</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> y1</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> x2</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> y2 ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    input: number</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    stop_input_1: number</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> stop_output_1: Color</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    stop_input_n: number</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> stop_output_n: Color</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">...</span></span>
<span class="line"><span style="color:#BABED8;">]: Color</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// (4) step  通过分段函数，来生成离散的、逐步的数据。</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">step</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    input: number</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    stop_output_0: OutputType</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    stop_input_1: number</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> stop_output_1: OutputType</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    stop_input_n: number</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> stop_output_n: OutputType</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">...</span></span>
<span class="line"><span style="color:#BABED8;">]: OutputType</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div><h3 id="_6-variable-binding" tabindex="-1">(6) Variable binding <a class="header-anchor" href="#_6-variable-binding" aria-label="Permalink to &quot;(6) Variable binding&quot;">​</a></h3><p><code>Variable binding</code>：这类操作符用于变量绑定。</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// (1) let  绑定表达式给指定的变量</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">let</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#82AAFF;">string</span><span style="color:#BABED8;"> (alphanumeric literal)</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> any</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">string</span><span style="color:#BABED8;"> (alphanumeric literal)</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> any</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">...,</span></span>
<span class="line"><span style="color:#BABED8;">    OutputType</span></span>
<span class="line"><span style="color:#BABED8;">]: OutputType</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// (2) var  使用通过 let 绑定的变量</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">var</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> previously bound variable name]: the </span><span style="color:#C792EA;">type</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">of</span><span style="color:#BABED8;"> the bound expression</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div><h3 id="_7-string" tabindex="-1">(7) String <a class="header-anchor" href="#_7-string" aria-label="Permalink to &quot;(7) String&quot;">​</a></h3><p><code>String</code>：这类操作符用于操作字符串。</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// (1) concat  用于连接各个输入的字符串，得到连接后的字符串</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">concat</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> value</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> value</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">...</span><span style="color:#BABED8;">]: string</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// (2) downcase  将字符串转为小写</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">downcase</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> string]: string</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// (3) upcase  将字符串转为大写</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">upcase</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> string]: string</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// (4) resolved-locale  获取通过 collator 设置的 IETF 语言标记</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">resolved-locale</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> collator]: string</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// (5) is-supported-script 判断输入的字符串是否清晰（额...有点没明白）</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">is-supported-script</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> string]: boolean</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div><h3 id="_8-color" tabindex="-1">(8) Color <a class="header-anchor" href="#_8-color" aria-label="Permalink to &quot;(8) Color&quot;">​</a></h3><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// (1) rgb  创建由 red、green、blue 组成的 rgb 颜色。每个值的取值范围为 0 ~ 255</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">rgb</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> number</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> number</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> number]: color</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// (2) rgba  创建由 red、green、blue、alpha 组成的 rgba 颜色。除了 alpha 取值范围为 0 ~ 1 外，其他值的取值范围为 0 ~ 255</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">rgba</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> number</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> number</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> number</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> number]: color</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// (3) to-rgba  转换颜色为 rgba 颜色对应的数组 [red, green, blue, alpha]</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">to-rgba</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> color]: array</span><span style="color:#89DDFF;">&lt;</span><span style="color:#BABED8;">number</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">4</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div><h3 id="_9-math" tabindex="-1">(9) Math <a class="header-anchor" href="#_9-math" aria-label="Permalink to &quot;(9) Math&quot;">​</a></h3><p><code>Math</code>：这类操作符用于数学运算。</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// (1) +  取输入值的总和</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">+</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> number</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> number</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">...</span><span style="color:#BABED8;">]: number</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// (2) -  对于两个数，返回第一个数减去第二个数的结果；对于一个数，则返回 0 减去这个数的结果（相当于取相反数）</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">-</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> number</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> number]: number</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">-</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> number]: number</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// (3) *  取输入值的乘积</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">*</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> number</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> number</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">...</span><span style="color:#BABED8;">]: number</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// (4) /  返回第一个数除以第二个数的结果（包含小数）</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">/</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> number</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> number]: number</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// (5) %  返回第一个数除以第二个数的余数</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">%</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> number</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> number]: number</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// (6) ^  返回第一个数的第二个数次方</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">^</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> number</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> number]: number</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// (7) abs  取绝对值</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">abs</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> number]: number</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// (8) acos  取反余弦值</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">acos</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> number]: number</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// (9) asin  取反正弦值</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">asin</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> number]: number</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// (10) atan  取反正切值</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">atan</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> number]: number</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// (11) ceil  取大于等于输入值的最大整数</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">ceil</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> number]: number</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// (12) cos  取余弦值</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">cos</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> number]: number</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// (13) e  取数学常数 e</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">e</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">]: number</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// (14) floor  取小于等于输入值的最大整数</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">floor</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> number]: number</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// (15) ln  取输入值的自然对数</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">ln</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> number]: number</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// (16) ln2  取数学常数 ln(2)</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">ln2</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">]: number</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// (17) log10  取输入值以 10 为底的对数</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">log10</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> number]: number</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// (18) log2  取输入值以 2 为底的对数</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">log2</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> number]: number</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// (19) max  取输入值中的最大值</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">max</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> number</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> number</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">...</span><span style="color:#BABED8;">]: number</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// (20) min  取输入值中的最小值</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">min</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> number</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> number</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">...</span><span style="color:#BABED8;">]: number</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// (21) pi  取圆周率 pi</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">pi</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">]: number</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// (22) round  取输入值四舍五入后的值</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">round</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> number]: number</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// (23) sin  取正弦值</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">sin</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> number]: number</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// (24) sqrt  取平方根</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">sqrt</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> number]: number</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// (25) tan  取正切值</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">tan</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> number]: number</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div><h3 id="_10-zoom" tabindex="-1">(10) Zoom <a class="header-anchor" href="#_10-zoom" aria-label="Permalink to &quot;(10) Zoom&quot;">​</a></h3><p><code>Zoom</code>：这类操作符只包含一个操作符 <code>zoom</code>，用于获取当前地图的缩放层级。</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">zoom</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">]: number</span></span>
<span class="line"></span></code></pre></div><h3 id="_11-heatmap" tabindex="-1">(11) Heatmap <a class="header-anchor" href="#_11-heatmap" aria-label="Permalink to &quot;(11) Heatmap&quot;">​</a></h3><p><code>Heatmap</code>：这类操作符只包含一个操作符 <code>heatmap-density</code>，用于获取热力图的密度（特定像素内有多少个数据点），只能在 <code>heatmap-color</code> 中使用。</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">heatmap-density</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">]: number</span></span>
<span class="line"></span></code></pre></div></div></div></main><footer class="VPDocFooter" data-v-5e059b96 data-v-10d8714f><!--[--><!--]--><!----><div class="prev-next" data-v-10d8714f><div class="pager" data-v-10d8714f><a class="pager-link prev" href="/mapbox-utils-docs/base/style/layers.html" data-v-10d8714f><span class="desc" data-v-10d8714f>上一篇</span><span class="title" data-v-10d8714f>Layers</span></a></div><div class="has-prev pager" data-v-10d8714f><a class="pager-link next" href="/mapbox-utils-docs/base/style/functions.html" data-v-10d8714f><span class="desc" data-v-10d8714f>下一篇</span><span class="title" data-v-10d8714f>Functions</span></a></div></div></footer><!--[--><!--]--></div></div></div></div></div><!----><!--[--><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"base_install.md\":\"9411e5ff\",\"index.md\":\"90d1971f\",\"layer_car-track.md\":\"384e414f\",\"layer_any-layer.md\":\"a360c170\",\"base_style_expressions.md\":\"92e5ed15\",\"layer_advance-line-layer.md\":\"366e41a6\",\"layer_marker-point-layer.md\":\"a5802703\",\"three_model-gltf.md\":\"7c2c54c6\",\"three_model-fbx.md\":\"e740d96f\",\"base_changelog.md\":\"4641a29b\",\"layer_heatmap-layer.md\":\"d4f8cd64\",\"base_style.md\":\"5174dd5e\",\"layer_advance-buffer.md\":\"9bd65b8e\",\"poi-management_index.md\":\"39e990cd\",\"layer_line-layer.md\":\"d5635732\",\"layer_circle-cluster-layer.md\":\"67287af1\",\"base_style_sources.md\":\"7bcdd32f\",\"layer_prismoid-layer.md\":\"0be54d7b\",\"util_area-measurer.md\":\"28a2e0ac\",\"layer_buffer-layer.md\":\"59c852c8\",\"util_polygon-area-picker.md\":\"3e838dfa\",\"layer_advance-car-track.md\":\"50045835\",\"three_model-glb.md\":\"59ca36f4\",\"layer_symbol-point-layer.md\":\"14513841\",\"base_style_layers.md\":\"59c26a5f\",\"layer_advance-polygon-layer.md\":\"b5f08d6a\",\"style_index.md\":\"dc3d1542\",\"layer_polygon-layer.md\":\"96a8a9cd\",\"util_map-comparer.md\":\"466af773\",\"util_point-picker.md\":\"9fa437af\",\"three_index.md\":\"af1278b9\",\"util_distance-measurer.md\":\"8b034119\",\"util_circle-area-picker.md\":\"c8b9cb25\",\"util_rect-area-picker.md\":\"8efc09cb\",\"layer_symbol-cluster-layer.md\":\"f47d3c62\",\"layer_advance-point-layer.md\":\"30abebab\",\"three_3d-point.md\":\"d83eb1d8\",\"layer_circle-point-layer.md\":\"f284902c\",\"util_line-picker.md\":\"a740d6eb\",\"base_style_functions.md\":\"fe9bc594\",\"three_box.md\":\"b1a090e2\",\"util_draw-util.md\":\"b933a341\"}")
__VP_SITE_DATA__ = JSON.parse("{\"lang\":\"zh-CN\",\"dir\":\"ltr\",\"title\":\"docs:mapbox-utils\",\"description\":\"A VitePress site\",\"base\":\"/mapbox-utils-docs/\",\"head\":[],\"appearance\":true,\"themeConfig\":{\"siteTitle\":\"基于MapBox的地图组件\",\"docFooter\":{\"prev\":\"上一篇\",\"next\":\"下一篇\"},\"sidebar\":[{\"text\":\"基础\",\"items\":[{\"text\":\"安装与使用\",\"link\":\"/base/install\"},{\"text\":\"更新日志\",\"link\":\"/base/changelog\"},{\"text\":\"Mapbox Style规范\",\"link\":\"/base/style\",\"items\":[{\"text\":\"Sources\",\"link\":\"/base/style/sources\"},{\"text\":\"Layers\",\"link\":\"/base/style/layers\"},{\"text\":\"Expressions\",\"link\":\"/base/style/expressions\"},{\"text\":\"Functions\",\"link\":\"/base/style/functions\"}]}]},{\"text\":\"图层\",\"items\":[{\"text\":\"圆点图层\",\"link\":\"/layer/circle-point-layer\"},{\"text\":\"图标图层\",\"link\":\"/layer/symbol-point-layer\"},{\"text\":\"Marker点图层\",\"link\":\"/layer/marker-point-layer\"},{\"text\":\"线图层\",\"link\":\"/layer/line-layer\"},{\"text\":\"多边形图层\",\"link\":\"/layer/polygon-layer\"},{\"text\":\"图标聚合点图层\",\"link\":\"/layer/symbol-cluster-layer\"},{\"text\":\"圆点聚合点图层\",\"link\":\"/layer/circle-cluster-layer\"},{\"text\":\"高级点图层\",\"link\":\"/layer/advance-point-layer\"},{\"text\":\"高级线图层\",\"link\":\"/layer/advance-line-layer\"},{\"text\":\"高级多边形图层\",\"link\":\"/layer/advance-polygon-layer\"},{\"text\":\"热力图图层\",\"link\":\"/layer/heatmap-layer\"},{\"text\":\"缓冲区图层\",\"link\":\"/layer/buffer-layer\"},{\"text\":\"柱状图图层\",\"link\":\"/layer/prismoid-layer\"},{\"text\":\"轨迹播放\",\"link\":\"/layer/car-track\"},{\"text\":\"高级轨迹播放\",\"link\":\"/layer/advance-car-track\"},{\"text\":\"高级缓冲区\",\"link\":\"/layer/advance-buffer\"}]},{\"text\":\"工具\",\"items\":[{\"text\":\"坐标选取\",\"link\":\"/util/point-picker\"},{\"text\":\"路径选取\",\"link\":\"/util/line-picker\"},{\"text\":\"区域框选（多边形）\",\"link\":\"/util/polygon-area-picker\"},{\"text\":\"区域框选（矩形）\",\"link\":\"/util/rect-area-picker\"},{\"text\":\"区域框选（圆）\",\"link\":\"/util/circle-area-picker\"},{\"text\":\"地图卷帘\",\"link\":\"/util/map-comparer\"},{\"text\":\"测距\",\"link\":\"/util/distance-measurer\"},{\"text\":\"测面积\",\"link\":\"/util/area-measurer\"},{\"text\":\"绘制工具\",\"link\":\"/util/draw-util\"}]},{\"text\":\"ThreeJS\",\"link\":\"/three/index\",\"items\":[{\"text\":\"加载threejs物体\",\"link\":\"/three/box\"},{\"text\":\"加载3维模型(glb)\",\"link\":\"/three/model-glb\"},{\"text\":\"加载3维模型(fbx)\",\"link\":\"/three/model-fbx\"},{\"text\":\"加载3维模型(gltf)\",\"link\":\"/three/model-gltf\"},{\"text\":\"加载3D点位\",\"link\":\"/three/3D-point\"}]},{\"text\":\"兴趣点管理\",\"link\":\"/poi-management/index\",\"items\":[]}],\"outline\":{\"level\":[1,3]}},\"locales\":{},\"scrollOffset\":90,\"cleanUrls\":false}")</script>
    
  </body>
</html>