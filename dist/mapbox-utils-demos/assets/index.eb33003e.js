import{M as j,k as N,P as A,v as F}from"./mapbox-utils.esm.1d7eedb7.js";import{i as P,a as C,R as J,C as D,P as I}from"./index.2419e32d.js";import{_ as B,d as $,r as T,m as U,g as G,c as M,h as R,e as z,k as L,o as V,O as v}from"./index.3f3ae0c4.js";const q={"vertex-radius":5,"vertex-color":"#000000","vertex-opacity":1,"vertex-stroke-width":0,"vertex-stroke-color":"#000000","vertex-stroke-opacity":1,"stroke-color":"#000000","stroke-width":1,"stroke-blur":0,"stroke-opacity":1,"stroke-dasharray":[1,0],"fill-opacity":1,"fill-color":"#000000"},S={enableEnter:!1,style:{"vertex-radius":3,"vertex-color":"#ffffff","vertex-opacity":1,"vertex-stroke-width":2,"vertex-stroke-color":"#177cb0","vertex-stroke-opacity":1,"stroke-color":"#177cb0","stroke-width":1,"stroke-blur":0,"stroke-opacity":1,"stroke-dasharray":[1,0],"fill-opacity":.2,"fill-color":"#44cef6"},finishedStyle:{"vertex-radius":3,"vertex-color":"#ffffff","vertex-opacity":1,"vertex-stroke-width":2,"vertex-stroke-color":"#177cb0","vertex-stroke-opacity":1,"stroke-color":"#177cb0","stroke-width":1,"stroke-blur":0,"stroke-opacity":1,"stroke-dasharray":[1,0],"fill-opacity":.4,"fill-color":"#44cef6"}},O=localStorage.getItem("PolygonAreaPickerOptions"),r=O?JSON.parse(O):S,H=()=>{const t=Object.create(null);return t.enableEnter=r.enableEnter,t.style=Object.create(null),Object.keys(r.style).forEach(e=>{JSON.stringify(r.style[e])!==JSON.stringify(q[e])&&(t.style[e]=r.style[e])}),t.finishedStyle=Object.create(null),Object.keys(r.finishedStyle).forEach(e=>{JSON.stringify(r.style[e])!==JSON.stringify(r.finishedStyle[e])&&(t.finishedStyle[e]=r.finishedStyle[e])}),t};var K=Object.freeze(Object.defineProperty({__proto__:null,originOptions:S,options:r,getOptions:H},Symbol.toStringTag,{value:"Module"}));const Q={"stroke-color":"#000000","stroke-width":1,"stroke-blur":0,"stroke-opacity":1,"stroke-dasharray":[1,0],"fill-opacity":1,"fill-color":"#000000"},x={style:{"stroke-color":"#177cb0","stroke-width":1,"stroke-blur":0,"stroke-opacity":1,"stroke-dasharray":[1,0],"fill-opacity":.2,"fill-color":"#44cef6"},finishedStyle:{"stroke-color":"#177cb0","stroke-width":1,"stroke-blur":0,"stroke-opacity":1,"stroke-dasharray":[1,0],"fill-opacity":.4,"fill-color":"#44cef6"}},h=localStorage.getItem("CircleAreaPickerOptions"),s=h?JSON.parse(h):x,W=()=>{const t=Object.create(null);return t.style=Object.create(null),Object.keys(s.style).forEach(e=>{JSON.stringify(s.style[e])!==JSON.stringify(Q[e])&&(t.style[e]=s.style[e])}),t.finishedStyle=Object.create(null),Object.keys(s.finishedStyle).forEach(e=>{JSON.stringify(s.style[e])!==JSON.stringify(s.finishedStyle[e])&&(t.finishedStyle[e]=s.finishedStyle[e])}),t};var X=Object.freeze(Object.defineProperty({__proto__:null,originOptions:x,options:s,getOptions:W},Symbol.toStringTag,{value:"Module"}));const Y={"vertex-radius":5,"vertex-color":"#000000","vertex-opacity":1,"vertex-stroke-width":0,"vertex-stroke-color":"#000000","vertex-stroke-opacity":1,"stroke-color":"#000000","stroke-width":1,"stroke-blur":0,"stroke-opacity":1,"stroke-dasharray":[1,0],"fill-opacity":1,"fill-color":"#000000"},m={style:{"vertex-radius":3,"vertex-color":"#ffffff","vertex-opacity":1,"vertex-stroke-width":2,"vertex-stroke-color":"#177cb0","vertex-stroke-opacity":1,"stroke-color":"#177cb0","stroke-width":1,"stroke-blur":0,"stroke-opacity":1,"stroke-dasharray":[1,0],"fill-opacity":.2,"fill-color":"#44cef6"},finishedStyle:{"vertex-radius":3,"vertex-color":"#ffffff","vertex-opacity":1,"vertex-stroke-width":2,"vertex-stroke-color":"#177cb0","vertex-stroke-opacity":1,"stroke-color":"#177cb0","stroke-width":1,"stroke-blur":0,"stroke-opacity":1,"stroke-dasharray":[1,0],"fill-opacity":.4,"fill-color":"#44cef6"}},b=localStorage.getItem("RectAreaPickerOptions"),i=b?JSON.parse(b):m,Z=()=>{const t=Object.create(null);return t.style=Object.create(null),Object.keys(i.style).forEach(e=>{JSON.stringify(i.style[e])!==JSON.stringify(Y[e])&&(t.style[e]=i.style[e])}),t.finishedStyle=Object.create(null),Object.keys(i.finishedStyle).forEach(e=>{JSON.stringify(i.style[e])!==JSON.stringify(i.finishedStyle[e])&&(t.finishedStyle[e]=i.finishedStyle[e])}),t};var ee=Object.freeze(Object.defineProperty({__proto__:null,originOptions:m,options:i,getOptions:Z},Symbol.toStringTag,{value:"Module"}));const te=t=>{switch(t){case"polygon":return K;case"circle":return X;case"rect":return ee}};const oe={class:"area-picker-gui"},re=$({__name:"index",setup(t){const e=L(),{options:y,getOptions:_}=te(e.params.id),g=T();U(()=>{var a;(a=g.value)==null||a.appendChild(c.domElement),c.domElement.classList.add("custom-gui")});let f,d,u="";switch(e.params.id){case"polygon":f=F,d=I,u="PolygonAreaPickerOptions";break;case"circle":f=A,d=D,u="CircleAreaPickerOptions";break;case"rect":f=N,d=J,u="RectAreaPickerOptions";break}let l,o;const E=a=>{l=a,k()},k=()=>{if(!l){v.warning("\u8BF7\u7B49\u5F85\u5730\u56FE\u52A0\u8F7D\u5B8C\u6210");return}o==null||o.remove(),o=new f({..._()}),o.addTo(l),o.on("finish",a=>{v.success(`\u7ED8\u5236\u5B8C\u6210, \u9762\u79EF\uFF1A${a.acreage}\u5E73\u65B9\u7C73`)})};G(()=>{c.destroy(),o==null||o.remove(),l.remove(),l=void 0,o=void 0});const w=()=>{localStorage.setItem(u,JSON.stringify(y)),k()},c=new P.GUI({name:"area-picker",autoPlace:!1,width:400,closeOnTop:!0});C(c,y,d,w);const p={addTo:()=>{o.addTo(l)},remove:()=>{o==null||o.remove()},clear:()=>{o.clear()},getData:()=>{console.log(o.getData())}},n=c.addFolder("API");return n.open(),n.add(p,"addTo").name("\u6DFB\u52A0\u5230\u5730\u56FE---addTo(map)"),n.add(p,"remove").name("\u4ECE\u5730\u56FE\u4E0A\u79FB\u9664---remove()"),n.add(p,"clear").name("\u6E05\u9664\u5DF2\u7ED8\u5236\u533A\u57DF---clear()"),n.add(p,"getData").name("\u83B7\u53D6\u5DF2\u7ED8\u5236\u533A\u57DF---getData()"),(a,se)=>(V(),M("div",oe,[R(j,{onLoad:E}),z("div",{ref_key:"container",ref:g,class:"gui-container"},null,512)]))}});var ce=B(re,[["__scopeId","data-v-595fbcd8"]]);export{ce as default};
