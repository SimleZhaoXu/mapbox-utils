import{M as v,n as m}from"./mapbox-utils.esm.1d7eedb7.js";import{i as y,a as h,c as g}from"./index.2419e32d.js";import{_ as x,d as _,r as E,m as O,g as b,c as B,h as F,e as S,o as w,O as d}from"./index.3f3ae0c4.js";const D={"vertex-radius":5,"vertex-color":"#000000","vertex-opacity":1,"vertex-stroke-width":0,"vertex-stroke-color":"#000000","vertex-stroke-opacity":1,"line-color":"#000000","line-width":1,"line-blur":0,"line-opacity":1,"line-dasharray":[1,0]},I={enableEnter:!1,style:{"vertex-radius":3,"vertex-color":"#ffffff","vertex-opacity":1,"vertex-stroke-width":2,"vertex-stroke-color":"#177cb0","vertex-stroke-opacity":1,"line-color":"#177cb0","line-width":1,"line-blur":0,"line-opacity":1,"line-dasharray":[1,0]},finishedStyle:{"vertex-radius":3,"vertex-color":"#ffffff","vertex-opacity":1,"vertex-stroke-width":2,"vertex-stroke-color":"#177cb0","vertex-stroke-opacity":1,"line-color":"#177cb0","line-width":1,"line-blur":0,"line-opacity":1,"line-dasharray":[1,0]}},u=localStorage.getItem("LinePickerOptions"),o=u?JSON.parse(u):I,k=()=>{const a=Object.create(null);return a.enableEnter=o.enableEnter,a.style=Object.create(null),Object.keys(o.style).forEach(t=>{JSON.stringify(o.style[t])!==JSON.stringify(D[t])&&(a.style[t]=o.style[t])}),a.finishedStyle=Object.create(null),Object.keys(o.finishedStyle).forEach(t=>{JSON.stringify(o.style[t])!==JSON.stringify(o.finishedStyle[t])&&(a.finishedStyle[t]=o.finishedStyle[t])}),a};const C={class:"line-picker-gui"},N=_({__name:"index",setup(a){const t=E();O(()=>{var r;(r=t.value)==null||r.appendChild(s.domElement),s.domElement.classList.add("custom-gui")});let n,e;const f=r=>{n=r,c()},c=()=>{if(!n){d.warning("\u8BF7\u7B49\u5F85\u5730\u56FE\u52A0\u8F7D\u5B8C\u6210");return}e==null||e.remove(),e=new m({...k()}),e.addTo(n),e.on("finish",r=>{d.success(`\u7ED8\u5236\u5B8C\u6210, \u957F\u5EA6\uFF1A${r.length}\u7C73`)})};b(()=>{s.destroy(),e==null||e.remove(),n.remove(),n=void 0,e=void 0});const p=()=>{localStorage.setItem("LinePickerOptions",JSON.stringify(o)),c()},s=new y.GUI({name:"line-picker",autoPlace:!1,width:400,closeOnTop:!0});h(s,o,g,p);const l={addTo:()=>{e.addTo(n)},remove:()=>{e==null||e.remove()},clear:()=>{e.clear()},getData:()=>{console.log(e.getData())}},i=s.addFolder("API");return i.open(),i.add(l,"addTo").name("\u6DFB\u52A0\u5230\u5730\u56FE---addTo(map)"),i.add(l,"remove").name("\u4ECE\u5730\u56FE\u4E0A\u79FB\u9664---remove()"),i.add(l,"clear").name("\u6E05\u9664\u5DF2\u7ED8\u5236\u7EBF\u6BB5---clear()"),i.add(l,"getData").name("\u83B7\u53D6\u5DF2\u7ED8\u5236\u7EBF\u6BB5---getData()"),(r,L)=>(w(),B("div",C,[F(v,{onLoad:f}),S("div",{ref_key:"container",ref:t,class:"gui-container"},null,512)]))}});var U=x(N,[["__scopeId","data-v-1eb86b74"]]);export{U as default};
