import{m as e}from"./chunks/mapbox-gl.95dcea97.js";import"./chunks/threebox.4ed993c7.js";import{M as t}from"./chunks/map_tian.a52cb535.js";import{t as c}from"./chunks/main.541a9a71.js";import{r,x as F,o as y,h as D,i,y as n,l as o,N as B}from"./chunks/framework.73679867.js";const A=n("h1",{id:"加载-3-维模型-glb",tabindex:"-1"},[o("加载 3 维模型(glb) "),n("a",{class:"header-anchor",href:"#加载-3-维模型-glb","aria-label":'Permalink to "加载 3 维模型(glb)"'},"​")],-1),E=n("h2",{id:"demo",tabindex:"-1"},[o("Demo "),n("a",{class:"header-anchor",href:"#demo","aria-label":'Permalink to "Demo"'},"​")],-1),d={class:"map-box"},m=B("",1),q=JSON.parse('{"title":"加载 3 维模型(glb)","description":"","frontmatter":{},"headers":[],"relativePath":"three/model-glb.md"}'),C={name:"three/model-glb.md"},j=Object.assign(C,{setup(u){const{Threebox:p,THREE:b}=c,l=r();let a;return F(()=>{window.tb.dispose(),window.tb=void 0}),y(()=>{a=new e.Map({container:l.value,zoom:15,minZoom:1,maxZoom:17.9,center:[105.5,30.6],pitch:60,style:t,antialias:!0}),window.tb=new p(a,a.getCanvas().getContext("webgl"),{defaultLights:!0,enableSelectingObjects:!0,multiLayer:!0}),a.on("load",()=>{a.addLayer({id:"3d-model-layer",type:"custom",renderingMode:"3d",objects:[],onAdd(){window.tb.loadObj({obj:window.origin+"/mapbox-postting-docs/models/eiffel.glb",type:"gltf",scale:{x:5621.06,y:6480.4,z:5621.06},units:"meters",anchor:"center",rotation:{x:90,y:0,z:0}},s=>{s.setCoords([105.5,30.6,0]),s.addTooltip("Eiffel Tower",!0),window.tb.add(s),this.objects.push(s)})},render(){},onRemove(){this.objects.forEach(s=>{window.tb.remove(s)}),this.objects=[]}})})}),(s,h)=>(D(),i("div",null,[A,E,n("div",d,[n("div",{ref_key:"mapContainer",ref:l,class:"map-container"},null,512)]),m]))}});export{q as __pageData,j as default};
