import{i as c}from"./chunks/index.2b688e21.js";import{M as r}from"./chunks/map-view.3fe756a0.js";import{j as y}from"./chunks/mapbox-utils.esm.43c6f587.js";import{d as D}from"./chunks/clusterData.ebee6633.js";import{a1 as F,h as i,i as B,E,N as p}from"./chunks/framework.73679867.js";import"./chunks/icon-plane.f5da0d65.js";import"./chunks/mapbox-gl.95dcea97.js";import"./chunks/index.4ed993c7.js";import"./chunks/map_tian.a52cb535.js";const A=p("",50),d=p("",1),L=JSON.parse('{"title":"图标聚合点图层(SymbolClusterLayer)","description":"","frontmatter":{},"headers":[],"relativePath":"layer/symbol-cluster-layer.md"}'),u={name:"layer/symbol-cluster-layer.md"},_=Object.assign(u,{setup(g){let n,s;const t=l=>{n=l,c.forEach(a=>{n.loadImage(a.path,(o,e)=>{if(o)throw o;n.addImage(a.name,e,{pixelRatio:a.name.startsWith("alarm")?2:10})})}),s=new y({key:"id",data:D,clusterRadius:50,style:{"icon-image":["get",["get","type"],["literal",{1:"alarm-01",2:"alarm-02",3:"alarm-03",4:"alarm-04"}]],"icon-size":1,"icon-allow-overlap":!0,"icon-ignore-placement":!0},clusterStyle:{"icon-image":"alarm-cluster","icon-size":1,"icon-anchor":"bottom","text-field":["get","point_count"],"text-font":["Noto Sans Regular"],"text-offset":[0,-2.6],"text-anchor":"center","text-size":16,"icon-allow-overlap":!0,"icon-ignore-placement":!0,"text-allow-overlap":!0,"text-ignore-placement":!0,"text-color":"#fff"},highlightOptions:{trigger:"click",style:{"icon-image":["get",["get","type"],["literal",{1:"alarm-01-active",2:"alarm-02-active",3:"alarm-03-active",4:"alarm-04-active"}]]}},fitBoundsOptions:{padding:20}}),s.addTo(n),s.on("click",a=>{n.easeTo({center:a.lngLat})})};return F(()=>{s==null||s.remove()}),(l,a)=>(i(),B("div",null,[A,E(r,{class:"map-view",style:{height:"600px","border-radius":"5px",overflow:"hidden"},onLoad:t}),d]))}});export{L as __pageData,_ as default};
