import{M as b}from"./chunks/map-view.3fe756a0.js";import{d as c}from"./chunks/mapbox-utils.esm.43c6f587.js";import{E as v}from"./chunks/index.6cef4780.js";import{_ as r,a1 as y,h as D,i,y as e,E as F,N as l}from"./chunks/framework.73679867.js";import"./chunks/mapbox-gl.95dcea97.js";import"./chunks/index.4ed993c7.js";import"./chunks/map_tian.a52cb535.js";import"./chunks/theme.fe21c5c1.js";const B=l(`<h1 id="路径选取-linepicker" tabindex="-1" data-v-6e7a1be0>路径选取(LinePicker) <a class="header-anchor" href="#路径选取-linepicker" aria-label="Permalink to &quot;路径选取(LinePicker)&quot;" data-v-6e7a1be0>​</a></h1><p data-v-6e7a1be0>用来在地图上绘制路线</p><h2 id="基础用法" tabindex="-1" data-v-6e7a1be0>基础用法 <a class="header-anchor" href="#基础用法" aria-label="Permalink to &quot;基础用法&quot;" data-v-6e7a1be0>​</a></h2><div class="language-js" data-v-6e7a1be0><button title="Copy Code" class="copy" data-v-6e7a1be0></button><span class="lang" data-v-6e7a1be0>js</span><pre class="shiki material-theme-palenight has-highlighted-lines" data-v-6e7a1be0><code data-v-6e7a1be0><span class="line" data-v-6e7a1be0><span style="color:#676E95;font-style:italic;" data-v-6e7a1be0>// 1. 导入</span></span>
<span class="line highlighted" data-v-6e7a1be0><span style="color:#89DDFF;font-style:italic;" data-v-6e7a1be0>import</span><span style="color:#BABED8;" data-v-6e7a1be0> </span><span style="color:#89DDFF;" data-v-6e7a1be0>{</span><span style="color:#F07178;" data-v-6e7a1be0> </span><span style="color:#BABED8;" data-v-6e7a1be0>LinePicker</span><span style="color:#F07178;" data-v-6e7a1be0> </span><span style="color:#89DDFF;" data-v-6e7a1be0>}</span><span style="color:#BABED8;" data-v-6e7a1be0> </span><span style="color:#89DDFF;font-style:italic;" data-v-6e7a1be0>from</span><span style="color:#BABED8;" data-v-6e7a1be0> </span><span style="color:#89DDFF;" data-v-6e7a1be0>&#39;</span><span style="color:#C3E88D;" data-v-6e7a1be0>mapbox-postting</span><span style="color:#89DDFF;" data-v-6e7a1be0>&#39;</span></span>
<span class="line" data-v-6e7a1be0><span style="color:#676E95;font-style:italic;" data-v-6e7a1be0>// 2. 创建LinePicker实例</span></span>
<span class="line highlighted" data-v-6e7a1be0><span style="color:#C792EA;" data-v-6e7a1be0>const</span><span style="color:#BABED8;" data-v-6e7a1be0> linePicker </span><span style="color:#89DDFF;" data-v-6e7a1be0>=</span><span style="color:#BABED8;" data-v-6e7a1be0> </span><span style="color:#89DDFF;" data-v-6e7a1be0>new</span><span style="color:#BABED8;" data-v-6e7a1be0> </span><span style="color:#82AAFF;" data-v-6e7a1be0>LinePicker</span><span style="color:#BABED8;" data-v-6e7a1be0>(options)</span></span>
<span class="line" data-v-6e7a1be0><span style="color:#676E95;font-style:italic;" data-v-6e7a1be0>// 3. 添加到地图</span></span>
<span class="line" data-v-6e7a1be0><span style="color:#BABED8;" data-v-6e7a1be0>linePicker</span><span style="color:#89DDFF;" data-v-6e7a1be0>.</span><span style="color:#82AAFF;" data-v-6e7a1be0>addTo</span><span style="color:#BABED8;" data-v-6e7a1be0>(map) </span><span style="color:#676E95;font-style:italic;" data-v-6e7a1be0>// map为MapBox地图实例</span></span>
<span class="line" data-v-6e7a1be0></span></code></pre></div><h2 id="options" tabindex="-1" data-v-6e7a1be0>Options <a class="header-anchor" href="#options" aria-label="Permalink to &quot;Options&quot;" data-v-6e7a1be0>​</a></h2><p data-v-6e7a1be0>创建<code data-v-6e7a1be0>LinePicker</code>实例时需要传入的参数对象，包含以下几个部分：</p><ul data-v-6e7a1be0><li data-v-6e7a1be0><p data-v-6e7a1be0><strong data-v-6e7a1be0>style</strong>： 选取时线段及顶点的样式，属性如下</p><table data-v-6e7a1be0><thead data-v-6e7a1be0><tr data-v-6e7a1be0><th style="text-align:center;" data-v-6e7a1be0>属性名</th><th style="text-align:left;" data-v-6e7a1be0>描述</th></tr></thead><tbody data-v-6e7a1be0><tr data-v-6e7a1be0><td style="text-align:center;" data-v-6e7a1be0><strong data-v-6e7a1be0>line-width</strong></td><td style="text-align:left;" data-v-6e7a1be0>线段的宽度（可选，值 &gt;= 0，单位：像素）</td></tr><tr data-v-6e7a1be0><td style="text-align:center;" data-v-6e7a1be0><strong data-v-6e7a1be0>line-color</strong></td><td style="text-align:left;" data-v-6e7a1be0>线段的颜色（可选）</td></tr><tr data-v-6e7a1be0><td style="text-align:center;" data-v-6e7a1be0><strong data-v-6e7a1be0>line-opacity</strong></td><td style="text-align:left;" data-v-6e7a1be0>线段的不透明度（可选，取值范围为 0 ~ 1，默认值为<code data-v-6e7a1be0>1</code>）</td></tr><tr data-v-6e7a1be0><td style="text-align:center;" data-v-6e7a1be0><strong data-v-6e7a1be0>line-blur</strong></td><td style="text-align:left;" data-v-6e7a1be0>线段的虚化（可选，取值范围为 0 ~ 1，默认值为<code data-v-6e7a1be0>0</code>）</td></tr><tr data-v-6e7a1be0><td style="text-align:center;" data-v-6e7a1be0><strong data-v-6e7a1be0>line-dasharray</strong></td><td style="text-align:left;" data-v-6e7a1be0>虚线的破折号部分和间隔的长度（可选，默认为实线）</td></tr><tr data-v-6e7a1be0><td style="text-align:center;" data-v-6e7a1be0><strong data-v-6e7a1be0>vertex-radius</strong></td><td style="text-align:left;" data-v-6e7a1be0>顶点的半径（可选，值 &gt;= 0，单位：像素）</td></tr><tr data-v-6e7a1be0><td style="text-align:center;" data-v-6e7a1be0><strong data-v-6e7a1be0>vertex-color</strong></td><td style="text-align:left;" data-v-6e7a1be0>顶点的颜色（可选）</td></tr><tr data-v-6e7a1be0><td style="text-align:center;" data-v-6e7a1be0><strong data-v-6e7a1be0>vertex-opacity</strong></td><td style="text-align:left;" data-v-6e7a1be0>顶点的不透明度（可选，取值范围为 0 ~ 1，默认值为 1）</td></tr><tr data-v-6e7a1be0><td style="text-align:center;" data-v-6e7a1be0><strong data-v-6e7a1be0>vertex-stroke-width</strong></td><td style="text-align:left;" data-v-6e7a1be0>顶点的描边宽度（可选，值 &gt;= 0，默认值为 0，单位：像素）</td></tr><tr data-v-6e7a1be0><td style="text-align:center;" data-v-6e7a1be0><strong data-v-6e7a1be0>vertex-stroke-color</strong></td><td style="text-align:left;" data-v-6e7a1be0>顶点的描边颜色（可选）</td></tr><tr data-v-6e7a1be0><td style="text-align:center;" data-v-6e7a1be0><strong data-v-6e7a1be0>vertex-stroke-opacity</strong></td><td style="text-align:left;" data-v-6e7a1be0>顶点的描边不透明度（可选，取值范围为 0 ~ 1，默认值为 1）</td></tr></tbody></table></li><li data-v-6e7a1be0><p data-v-6e7a1be0><strong data-v-6e7a1be0>finishedStyle</strong>：线段选取完成后的样式，属性同上表格</p></li><li data-v-6e7a1be0><p data-v-6e7a1be0><strong data-v-6e7a1be0>enableEnter</strong>：是否启用键盘<code data-v-6e7a1be0>Enter</code>键触发完成绘制</p></li></ul><h2 id="api" tabindex="-1" data-v-6e7a1be0>API <a class="header-anchor" href="#api" aria-label="Permalink to &quot;API&quot;" data-v-6e7a1be0>​</a></h2><h3 id="addto" tabindex="-1" data-v-6e7a1be0>addTo() <a class="header-anchor" href="#addto" aria-label="Permalink to &quot;addTo()&quot;" data-v-6e7a1be0>​</a></h3><p data-v-6e7a1be0>将图层添加到地图实例上</p><ul data-v-6e7a1be0><li data-v-6e7a1be0><p data-v-6e7a1be0>类型</p><div class="language-ts" data-v-6e7a1be0><button title="Copy Code" class="copy" data-v-6e7a1be0></button><span class="lang" data-v-6e7a1be0>ts</span><pre class="shiki material-theme-palenight" data-v-6e7a1be0><code data-v-6e7a1be0><span class="line" data-v-6e7a1be0><span style="color:#C792EA;" data-v-6e7a1be0>function</span><span style="color:#89DDFF;" data-v-6e7a1be0>(</span><span style="color:#BABED8;font-style:italic;" data-v-6e7a1be0>map</span><span style="color:#89DDFF;" data-v-6e7a1be0>:</span><span style="color:#BABED8;" data-v-6e7a1be0> </span><span style="color:#FFCB6B;" data-v-6e7a1be0>mapboxgl</span><span style="color:#89DDFF;" data-v-6e7a1be0>.</span><span style="color:#FFCB6B;" data-v-6e7a1be0>Map</span><span style="color:#89DDFF;" data-v-6e7a1be0>):</span><span style="color:#BABED8;" data-v-6e7a1be0> </span><span style="color:#FFCB6B;" data-v-6e7a1be0>this</span></span>
<span class="line" data-v-6e7a1be0></span></code></pre></div></li><li data-v-6e7a1be0><p data-v-6e7a1be0>示例</p><div class="language-ts" data-v-6e7a1be0><button title="Copy Code" class="copy" data-v-6e7a1be0></button><span class="lang" data-v-6e7a1be0>ts</span><pre class="shiki material-theme-palenight" data-v-6e7a1be0><code data-v-6e7a1be0><span class="line" data-v-6e7a1be0><span style="color:#C792EA;" data-v-6e7a1be0>const</span><span style="color:#BABED8;" data-v-6e7a1be0> linePicker </span><span style="color:#89DDFF;" data-v-6e7a1be0>=</span><span style="color:#BABED8;" data-v-6e7a1be0> </span><span style="color:#89DDFF;" data-v-6e7a1be0>new</span><span style="color:#BABED8;" data-v-6e7a1be0> </span><span style="color:#82AAFF;" data-v-6e7a1be0>LineLayer</span><span style="color:#BABED8;" data-v-6e7a1be0>(options)</span></span>
<span class="line" data-v-6e7a1be0><span style="color:#BABED8;" data-v-6e7a1be0>linePicker</span><span style="color:#89DDFF;" data-v-6e7a1be0>.</span><span style="color:#82AAFF;" data-v-6e7a1be0>addTo</span><span style="color:#BABED8;" data-v-6e7a1be0>(map)</span></span>
<span class="line" data-v-6e7a1be0></span></code></pre></div></li></ul><h3 id="remove" tabindex="-1" data-v-6e7a1be0>remove() <a class="header-anchor" href="#remove" aria-label="Permalink to &quot;remove()&quot;" data-v-6e7a1be0>​</a></h3><p data-v-6e7a1be0>将图层及事件监听器从地图上移除</p><ul data-v-6e7a1be0><li data-v-6e7a1be0><p data-v-6e7a1be0>类型</p><div class="language-ts" data-v-6e7a1be0><button title="Copy Code" class="copy" data-v-6e7a1be0></button><span class="lang" data-v-6e7a1be0>ts</span><pre class="shiki material-theme-palenight" data-v-6e7a1be0><code data-v-6e7a1be0><span class="line" data-v-6e7a1be0><span style="color:#C792EA;" data-v-6e7a1be0>function</span><span style="color:#89DDFF;" data-v-6e7a1be0>():</span><span style="color:#BABED8;" data-v-6e7a1be0> </span><span style="color:#FFCB6B;" data-v-6e7a1be0>this</span></span>
<span class="line" data-v-6e7a1be0></span></code></pre></div></li><li data-v-6e7a1be0><p data-v-6e7a1be0>示例</p><div class="language-ts" data-v-6e7a1be0><button title="Copy Code" class="copy" data-v-6e7a1be0></button><span class="lang" data-v-6e7a1be0>ts</span><pre class="shiki material-theme-palenight" data-v-6e7a1be0><code data-v-6e7a1be0><span class="line" data-v-6e7a1be0><span style="color:#BABED8;" data-v-6e7a1be0>linePicker</span><span style="color:#89DDFF;" data-v-6e7a1be0>.</span><span style="color:#82AAFF;" data-v-6e7a1be0>remove</span><span style="color:#BABED8;" data-v-6e7a1be0>()</span></span>
<span class="line" data-v-6e7a1be0></span></code></pre></div></li></ul><h3 id="clear" tabindex="-1" data-v-6e7a1be0>clear() <a class="header-anchor" href="#clear" aria-label="Permalink to &quot;clear()&quot;" data-v-6e7a1be0>​</a></h3><p data-v-6e7a1be0>清除已绘制的线段，在一次绘制完成后，需要调用此方法，才能进行下一次绘制</p><ul data-v-6e7a1be0><li data-v-6e7a1be0><p data-v-6e7a1be0>类型</p><div class="language-ts" data-v-6e7a1be0><button title="Copy Code" class="copy" data-v-6e7a1be0></button><span class="lang" data-v-6e7a1be0>ts</span><pre class="shiki material-theme-palenight" data-v-6e7a1be0><code data-v-6e7a1be0><span class="line" data-v-6e7a1be0><span style="color:#C792EA;" data-v-6e7a1be0>function</span><span style="color:#89DDFF;" data-v-6e7a1be0>():</span><span style="color:#BABED8;" data-v-6e7a1be0> </span><span style="color:#FFCB6B;" data-v-6e7a1be0>this</span></span>
<span class="line" data-v-6e7a1be0></span></code></pre></div></li><li data-v-6e7a1be0><p data-v-6e7a1be0>示例</p><div class="language-ts" data-v-6e7a1be0><button title="Copy Code" class="copy" data-v-6e7a1be0></button><span class="lang" data-v-6e7a1be0>ts</span><pre class="shiki material-theme-palenight" data-v-6e7a1be0><code data-v-6e7a1be0><span class="line" data-v-6e7a1be0><span style="color:#BABED8;" data-v-6e7a1be0>linePicker</span><span style="color:#89DDFF;" data-v-6e7a1be0>.</span><span style="color:#82AAFF;" data-v-6e7a1be0>clear</span><span style="color:#BABED8;" data-v-6e7a1be0>()</span></span>
<span class="line" data-v-6e7a1be0></span></code></pre></div></li></ul><h3 id="getdata" tabindex="-1" data-v-6e7a1be0>getData() <a class="header-anchor" href="#getdata" aria-label="Permalink to &quot;getData()&quot;" data-v-6e7a1be0>​</a></h3><p data-v-6e7a1be0>返回已绘制完成的路线数据，若尚未绘制完成，则返回<code data-v-6e7a1be0>null</code></p><ul data-v-6e7a1be0><li data-v-6e7a1be0><p data-v-6e7a1be0>类型</p><div class="language-ts" data-v-6e7a1be0><button title="Copy Code" class="copy" data-v-6e7a1be0></button><span class="lang" data-v-6e7a1be0>ts</span><pre class="shiki material-theme-palenight" data-v-6e7a1be0><code data-v-6e7a1be0><span class="line" data-v-6e7a1be0><span style="color:#C792EA;" data-v-6e7a1be0>function</span><span style="color:#89DDFF;" data-v-6e7a1be0>():</span><span style="color:#BABED8;" data-v-6e7a1be0> </span><span style="color:#FFCB6B;" data-v-6e7a1be0>GeoJSON</span><span style="color:#89DDFF;" data-v-6e7a1be0>.</span><span style="color:#FFCB6B;" data-v-6e7a1be0>Feature</span><span style="color:#89DDFF;" data-v-6e7a1be0>&lt;</span><span style="color:#FFCB6B;" data-v-6e7a1be0>GeoJSON</span><span style="color:#89DDFF;" data-v-6e7a1be0>.</span><span style="color:#FFCB6B;" data-v-6e7a1be0>LineString</span><span style="color:#89DDFF;" data-v-6e7a1be0>&gt;</span><span style="color:#BABED8;" data-v-6e7a1be0> </span><span style="color:#89DDFF;" data-v-6e7a1be0>|</span><span style="color:#BABED8;" data-v-6e7a1be0> </span><span style="color:#FFCB6B;" data-v-6e7a1be0>null</span></span>
<span class="line" data-v-6e7a1be0></span></code></pre></div></li><li data-v-6e7a1be0><p data-v-6e7a1be0>示例</p><div class="language-ts" data-v-6e7a1be0><button title="Copy Code" class="copy" data-v-6e7a1be0></button><span class="lang" data-v-6e7a1be0>ts</span><pre class="shiki material-theme-palenight" data-v-6e7a1be0><code data-v-6e7a1be0><span class="line" data-v-6e7a1be0><span style="color:#BABED8;" data-v-6e7a1be0>linePicker</span><span style="color:#89DDFF;" data-v-6e7a1be0>.</span><span style="color:#82AAFF;" data-v-6e7a1be0>getData</span><span style="color:#BABED8;" data-v-6e7a1be0>()</span></span>
<span class="line" data-v-6e7a1be0></span></code></pre></div></li></ul><h3 id="on" tabindex="-1" data-v-6e7a1be0>on <a class="header-anchor" href="#on" aria-label="Permalink to &quot;on&quot;" data-v-6e7a1be0>​</a></h3><p data-v-6e7a1be0>注册事件监听器</p><ul data-v-6e7a1be0><li data-v-6e7a1be0><p data-v-6e7a1be0>类型</p><div class="language-ts" data-v-6e7a1be0><button title="Copy Code" class="copy" data-v-6e7a1be0></button><span class="lang" data-v-6e7a1be0>ts</span><pre class="shiki material-theme-palenight" data-v-6e7a1be0><code data-v-6e7a1be0><span class="line" data-v-6e7a1be0><span style="color:#C792EA;" data-v-6e7a1be0>function</span><span style="color:#89DDFF;" data-v-6e7a1be0>&lt;</span><span style="color:#FFCB6B;" data-v-6e7a1be0>T</span><span style="color:#BABED8;" data-v-6e7a1be0> </span><span style="color:#C792EA;" data-v-6e7a1be0>extends</span><span style="color:#BABED8;" data-v-6e7a1be0> </span><span style="color:#89DDFF;" data-v-6e7a1be0>keyof</span><span style="color:#BABED8;" data-v-6e7a1be0> </span><span style="color:#FFCB6B;" data-v-6e7a1be0>EventType</span><span style="color:#89DDFF;" data-v-6e7a1be0>&lt;</span><span style="color:#FFCB6B;" data-v-6e7a1be0>this</span><span style="color:#89DDFF;" data-v-6e7a1be0>&gt;&gt;(</span></span>
<span class="line" data-v-6e7a1be0><span style="color:#BABED8;" data-v-6e7a1be0>  </span><span style="color:#BABED8;font-style:italic;" data-v-6e7a1be0>type</span><span style="color:#89DDFF;" data-v-6e7a1be0>:</span><span style="color:#BABED8;" data-v-6e7a1be0> </span><span style="color:#FFCB6B;" data-v-6e7a1be0>T</span><span style="color:#89DDFF;" data-v-6e7a1be0>,</span></span>
<span class="line" data-v-6e7a1be0><span style="color:#BABED8;" data-v-6e7a1be0>  </span><span style="color:#82AAFF;" data-v-6e7a1be0>listener</span><span style="color:#89DDFF;" data-v-6e7a1be0>:</span><span style="color:#BABED8;" data-v-6e7a1be0> </span><span style="color:#89DDFF;" data-v-6e7a1be0>(</span><span style="color:#BABED8;font-style:italic;" data-v-6e7a1be0>ev</span><span style="color:#89DDFF;" data-v-6e7a1be0>:</span><span style="color:#BABED8;" data-v-6e7a1be0> </span><span style="color:#FFCB6B;" data-v-6e7a1be0>EventType</span><span style="color:#89DDFF;" data-v-6e7a1be0>&lt;</span><span style="color:#FFCB6B;" data-v-6e7a1be0>this</span><span style="color:#89DDFF;" data-v-6e7a1be0>&gt;</span><span style="color:#BABED8;" data-v-6e7a1be0>[</span><span style="color:#FFCB6B;" data-v-6e7a1be0>T</span><span style="color:#BABED8;" data-v-6e7a1be0>]</span><span style="color:#89DDFF;" data-v-6e7a1be0>)</span><span style="color:#BABED8;" data-v-6e7a1be0> </span><span style="color:#C792EA;" data-v-6e7a1be0>=&gt;</span><span style="color:#BABED8;" data-v-6e7a1be0> </span><span style="color:#FFCB6B;" data-v-6e7a1be0>void</span></span>
<span class="line" data-v-6e7a1be0><span style="color:#89DDFF;" data-v-6e7a1be0>):</span><span style="color:#BABED8;" data-v-6e7a1be0> </span><span style="color:#FFCB6B;" data-v-6e7a1be0>this</span></span>
<span class="line" data-v-6e7a1be0></span></code></pre></div></li><li data-v-6e7a1be0><p data-v-6e7a1be0>示例</p><div class="language-ts" data-v-6e7a1be0><button title="Copy Code" class="copy" data-v-6e7a1be0></button><span class="lang" data-v-6e7a1be0>ts</span><pre class="shiki material-theme-palenight" data-v-6e7a1be0><code data-v-6e7a1be0><span class="line" data-v-6e7a1be0><span style="color:#BABED8;" data-v-6e7a1be0>pointLayer</span><span style="color:#89DDFF;" data-v-6e7a1be0>.</span><span style="color:#82AAFF;" data-v-6e7a1be0>on</span><span style="color:#BABED8;" data-v-6e7a1be0>(</span><span style="color:#89DDFF;" data-v-6e7a1be0>&#39;</span><span style="color:#C3E88D;" data-v-6e7a1be0>finish</span><span style="color:#89DDFF;" data-v-6e7a1be0>&#39;</span><span style="color:#89DDFF;" data-v-6e7a1be0>,</span><span style="color:#BABED8;" data-v-6e7a1be0> </span><span style="color:#89DDFF;" data-v-6e7a1be0>(</span><span style="color:#BABED8;font-style:italic;" data-v-6e7a1be0>e</span><span style="color:#89DDFF;" data-v-6e7a1be0>)</span><span style="color:#BABED8;" data-v-6e7a1be0> </span><span style="color:#C792EA;" data-v-6e7a1be0>=&gt;</span><span style="color:#BABED8;" data-v-6e7a1be0> </span><span style="color:#89DDFF;" data-v-6e7a1be0>{</span></span>
<span class="line" data-v-6e7a1be0><span style="color:#F07178;" data-v-6e7a1be0>  </span><span style="color:#BABED8;" data-v-6e7a1be0>console</span><span style="color:#89DDFF;" data-v-6e7a1be0>.</span><span style="color:#82AAFF;" data-v-6e7a1be0>log</span><span style="color:#F07178;" data-v-6e7a1be0>(</span><span style="color:#BABED8;" data-v-6e7a1be0>e</span><span style="color:#89DDFF;" data-v-6e7a1be0>.</span><span style="color:#BABED8;" data-v-6e7a1be0>data</span><span style="color:#F07178;" data-v-6e7a1be0>)</span></span>
<span class="line" data-v-6e7a1be0><span style="color:#89DDFF;" data-v-6e7a1be0>}</span><span style="color:#BABED8;" data-v-6e7a1be0>)</span></span>
<span class="line" data-v-6e7a1be0></span></code></pre></div></li></ul><h2 id="事件" tabindex="-1" data-v-6e7a1be0>事件 <a class="header-anchor" href="#事件" aria-label="Permalink to &quot;事件&quot;" data-v-6e7a1be0>​</a></h2><h3 id="finish" tabindex="-1" data-v-6e7a1be0>finish <a class="header-anchor" href="#finish" aria-label="Permalink to &quot;finish&quot;" data-v-6e7a1be0>​</a></h3><p data-v-6e7a1be0>线段绘制完成后触发，可获取绘制的线段geojson数据，以及线段的长度</p><ul data-v-6e7a1be0><li data-v-6e7a1be0><p data-v-6e7a1be0>callback</p><div class="language-ts" data-v-6e7a1be0><button title="Copy Code" class="copy" data-v-6e7a1be0></button><span class="lang" data-v-6e7a1be0>ts</span><pre class="shiki material-theme-palenight" data-v-6e7a1be0><code data-v-6e7a1be0><span class="line" data-v-6e7a1be0><span style="color:#89DDFF;" data-v-6e7a1be0>(</span><span style="color:#BABED8;font-style:italic;" data-v-6e7a1be0>e</span><span style="color:#89DDFF;" data-v-6e7a1be0>:</span><span style="color:#BABED8;" data-v-6e7a1be0> </span><span style="color:#89DDFF;" data-v-6e7a1be0>{</span></span>
<span class="line" data-v-6e7a1be0><span style="color:#BABED8;" data-v-6e7a1be0>  </span><span style="color:#F07178;" data-v-6e7a1be0>type</span><span style="color:#89DDFF;" data-v-6e7a1be0>:</span><span style="color:#BABED8;" data-v-6e7a1be0> </span><span style="color:#89DDFF;" data-v-6e7a1be0>&#39;</span><span style="color:#C3E88D;" data-v-6e7a1be0>finish</span><span style="color:#89DDFF;" data-v-6e7a1be0>&#39;</span><span style="color:#89DDFF;" data-v-6e7a1be0>;</span></span>
<span class="line" data-v-6e7a1be0><span style="color:#BABED8;" data-v-6e7a1be0>  </span><span style="color:#F07178;" data-v-6e7a1be0>target</span><span style="color:#89DDFF;" data-v-6e7a1be0>:</span><span style="color:#BABED8;" data-v-6e7a1be0> </span><span style="color:#FFCB6B;" data-v-6e7a1be0>this</span><span style="color:#89DDFF;" data-v-6e7a1be0>;</span></span>
<span class="line" data-v-6e7a1be0><span style="color:#BABED8;" data-v-6e7a1be0>  </span><span style="color:#F07178;" data-v-6e7a1be0>data</span><span style="color:#89DDFF;" data-v-6e7a1be0>:</span><span style="color:#BABED8;" data-v-6e7a1be0> </span><span style="color:#FFCB6B;" data-v-6e7a1be0>GeoJSON</span><span style="color:#89DDFF;" data-v-6e7a1be0>.</span><span style="color:#FFCB6B;" data-v-6e7a1be0>Feature</span><span style="color:#89DDFF;" data-v-6e7a1be0>&lt;</span><span style="color:#FFCB6B;" data-v-6e7a1be0>GeoJSON</span><span style="color:#89DDFF;" data-v-6e7a1be0>.</span><span style="color:#FFCB6B;" data-v-6e7a1be0>LineString</span><span style="color:#89DDFF;" data-v-6e7a1be0>&gt;;</span><span style="color:#BABED8;" data-v-6e7a1be0> </span><span style="color:#676E95;font-style:italic;" data-v-6e7a1be0>// 线段数据</span></span>
<span class="line" data-v-6e7a1be0><span style="color:#BABED8;" data-v-6e7a1be0>  </span><span style="color:#F07178;" data-v-6e7a1be0>length</span><span style="color:#89DDFF;" data-v-6e7a1be0>:</span><span style="color:#BABED8;" data-v-6e7a1be0> </span><span style="color:#FFCB6B;" data-v-6e7a1be0>number</span><span style="color:#BABED8;" data-v-6e7a1be0> </span><span style="color:#676E95;font-style:italic;" data-v-6e7a1be0>// 线段长度，单位(米)</span></span>
<span class="line" data-v-6e7a1be0><span style="color:#89DDFF;" data-v-6e7a1be0>})</span><span style="color:#BABED8;" data-v-6e7a1be0> </span><span style="color:#C792EA;" data-v-6e7a1be0>=&gt;</span><span style="color:#BABED8;" data-v-6e7a1be0> </span><span style="color:#89DDFF;" data-v-6e7a1be0>void</span></span>
<span class="line" data-v-6e7a1be0></span></code></pre></div></li><li data-v-6e7a1be0><p data-v-6e7a1be0>示例</p><div class="language-ts" data-v-6e7a1be0><button title="Copy Code" class="copy" data-v-6e7a1be0></button><span class="lang" data-v-6e7a1be0>ts</span><pre class="shiki material-theme-palenight" data-v-6e7a1be0><code data-v-6e7a1be0><span class="line" data-v-6e7a1be0><span style="color:#BABED8;" data-v-6e7a1be0>lineLayer</span><span style="color:#89DDFF;" data-v-6e7a1be0>.</span><span style="color:#82AAFF;" data-v-6e7a1be0>on</span><span style="color:#BABED8;" data-v-6e7a1be0>(</span><span style="color:#89DDFF;" data-v-6e7a1be0>&#39;</span><span style="color:#C3E88D;" data-v-6e7a1be0>finish</span><span style="color:#89DDFF;" data-v-6e7a1be0>&#39;</span><span style="color:#89DDFF;" data-v-6e7a1be0>,</span><span style="color:#BABED8;" data-v-6e7a1be0> </span><span style="color:#89DDFF;" data-v-6e7a1be0>(</span><span style="color:#BABED8;font-style:italic;" data-v-6e7a1be0>e</span><span style="color:#89DDFF;" data-v-6e7a1be0>)</span><span style="color:#BABED8;" data-v-6e7a1be0> </span><span style="color:#C792EA;" data-v-6e7a1be0>=&gt;</span><span style="color:#BABED8;" data-v-6e7a1be0> </span><span style="color:#89DDFF;" data-v-6e7a1be0>{</span></span>
<span class="line" data-v-6e7a1be0><span style="color:#F07178;" data-v-6e7a1be0>  </span><span style="color:#BABED8;" data-v-6e7a1be0>console</span><span style="color:#89DDFF;" data-v-6e7a1be0>.</span><span style="color:#82AAFF;" data-v-6e7a1be0>log</span><span style="color:#F07178;" data-v-6e7a1be0>(</span><span style="color:#BABED8;" data-v-6e7a1be0>e</span><span style="color:#89DDFF;" data-v-6e7a1be0>.</span><span style="color:#BABED8;" data-v-6e7a1be0>data</span><span style="color:#F07178;" data-v-6e7a1be0>)</span></span>
<span class="line" data-v-6e7a1be0><span style="color:#F07178;" data-v-6e7a1be0>  </span><span style="color:#BABED8;" data-v-6e7a1be0>console</span><span style="color:#89DDFF;" data-v-6e7a1be0>.</span><span style="color:#82AAFF;" data-v-6e7a1be0>log</span><span style="color:#F07178;" data-v-6e7a1be0>(</span><span style="color:#BABED8;" data-v-6e7a1be0>e</span><span style="color:#89DDFF;" data-v-6e7a1be0>.</span><span style="color:#BABED8;" data-v-6e7a1be0>length</span><span style="color:#F07178;" data-v-6e7a1be0>)</span></span>
<span class="line" data-v-6e7a1be0><span style="color:#89DDFF;" data-v-6e7a1be0>}</span><span style="color:#BABED8;" data-v-6e7a1be0>)</span></span>
<span class="line" data-v-6e7a1be0></span></code></pre></div></li></ul><h2 id="demo" tabindex="-1" data-v-6e7a1be0>Demo <a class="header-anchor" href="#demo" aria-label="Permalink to &quot;Demo&quot;" data-v-6e7a1be0>​</a></h2>`,28),A=l(`<details class="details custom-block" data-v-6e7a1be0><summary data-v-6e7a1be0>点击查看代码</summary><div class="language-js" data-v-6e7a1be0><button title="Copy Code" class="copy" data-v-6e7a1be0></button><span class="lang" data-v-6e7a1be0>js</span><pre class="shiki material-theme-palenight" data-v-6e7a1be0><code data-v-6e7a1be0><span class="line" data-v-6e7a1be0><span style="color:#BABED8;" data-v-6e7a1be0>linePicker </span><span style="color:#89DDFF;" data-v-6e7a1be0>=</span><span style="color:#BABED8;" data-v-6e7a1be0> </span><span style="color:#89DDFF;" data-v-6e7a1be0>new</span><span style="color:#BABED8;" data-v-6e7a1be0> </span><span style="color:#82AAFF;" data-v-6e7a1be0>LinePicker</span><span style="color:#BABED8;" data-v-6e7a1be0>(</span><span style="color:#89DDFF;" data-v-6e7a1be0>{</span></span>
<span class="line" data-v-6e7a1be0><span style="color:#BABED8;" data-v-6e7a1be0>  </span><span style="color:#F07178;" data-v-6e7a1be0>style</span><span style="color:#89DDFF;" data-v-6e7a1be0>:</span><span style="color:#BABED8;" data-v-6e7a1be0> </span><span style="color:#89DDFF;" data-v-6e7a1be0>{</span></span>
<span class="line" data-v-6e7a1be0><span style="color:#BABED8;" data-v-6e7a1be0>    </span><span style="color:#89DDFF;" data-v-6e7a1be0>&#39;</span><span style="color:#F07178;" data-v-6e7a1be0>line-width</span><span style="color:#89DDFF;" data-v-6e7a1be0>&#39;</span><span style="color:#89DDFF;" data-v-6e7a1be0>:</span><span style="color:#BABED8;" data-v-6e7a1be0> </span><span style="color:#F78C6C;" data-v-6e7a1be0>2</span><span style="color:#89DDFF;" data-v-6e7a1be0>,</span></span>
<span class="line" data-v-6e7a1be0><span style="color:#BABED8;" data-v-6e7a1be0>    </span><span style="color:#89DDFF;" data-v-6e7a1be0>&#39;</span><span style="color:#F07178;" data-v-6e7a1be0>line-color</span><span style="color:#89DDFF;" data-v-6e7a1be0>&#39;</span><span style="color:#89DDFF;" data-v-6e7a1be0>:</span><span style="color:#BABED8;" data-v-6e7a1be0> </span><span style="color:#89DDFF;" data-v-6e7a1be0>&#39;</span><span style="color:#C3E88D;" data-v-6e7a1be0>#44cef6</span><span style="color:#89DDFF;" data-v-6e7a1be0>&#39;</span><span style="color:#89DDFF;" data-v-6e7a1be0>,</span></span>
<span class="line" data-v-6e7a1be0><span style="color:#BABED8;" data-v-6e7a1be0>    </span><span style="color:#89DDFF;" data-v-6e7a1be0>&#39;</span><span style="color:#F07178;" data-v-6e7a1be0>line-opacity</span><span style="color:#89DDFF;" data-v-6e7a1be0>&#39;</span><span style="color:#89DDFF;" data-v-6e7a1be0>:</span><span style="color:#BABED8;" data-v-6e7a1be0> </span><span style="color:#F78C6C;" data-v-6e7a1be0>0.5</span><span style="color:#89DDFF;" data-v-6e7a1be0>,</span></span>
<span class="line" data-v-6e7a1be0><span style="color:#BABED8;" data-v-6e7a1be0>    </span><span style="color:#89DDFF;" data-v-6e7a1be0>&#39;</span><span style="color:#F07178;" data-v-6e7a1be0>line-dasharray</span><span style="color:#89DDFF;" data-v-6e7a1be0>&#39;</span><span style="color:#89DDFF;" data-v-6e7a1be0>:</span><span style="color:#BABED8;" data-v-6e7a1be0> [</span><span style="color:#F78C6C;" data-v-6e7a1be0>5</span><span style="color:#89DDFF;" data-v-6e7a1be0>,</span><span style="color:#BABED8;" data-v-6e7a1be0> </span><span style="color:#F78C6C;" data-v-6e7a1be0>3</span><span style="color:#BABED8;" data-v-6e7a1be0>]</span><span style="color:#89DDFF;" data-v-6e7a1be0>,</span></span>
<span class="line" data-v-6e7a1be0><span style="color:#BABED8;" data-v-6e7a1be0>    </span><span style="color:#89DDFF;" data-v-6e7a1be0>&#39;</span><span style="color:#F07178;" data-v-6e7a1be0>vertex-radius</span><span style="color:#89DDFF;" data-v-6e7a1be0>&#39;</span><span style="color:#89DDFF;" data-v-6e7a1be0>:</span><span style="color:#BABED8;" data-v-6e7a1be0> </span><span style="color:#F78C6C;" data-v-6e7a1be0>4</span><span style="color:#89DDFF;" data-v-6e7a1be0>,</span></span>
<span class="line" data-v-6e7a1be0><span style="color:#BABED8;" data-v-6e7a1be0>    </span><span style="color:#89DDFF;" data-v-6e7a1be0>&#39;</span><span style="color:#F07178;" data-v-6e7a1be0>vertex-color</span><span style="color:#89DDFF;" data-v-6e7a1be0>&#39;</span><span style="color:#89DDFF;" data-v-6e7a1be0>:</span><span style="color:#BABED8;" data-v-6e7a1be0> </span><span style="color:#89DDFF;" data-v-6e7a1be0>&#39;</span><span style="color:#C3E88D;" data-v-6e7a1be0>#fff</span><span style="color:#89DDFF;" data-v-6e7a1be0>&#39;</span><span style="color:#89DDFF;" data-v-6e7a1be0>,</span></span>
<span class="line" data-v-6e7a1be0><span style="color:#BABED8;" data-v-6e7a1be0>    </span><span style="color:#89DDFF;" data-v-6e7a1be0>&#39;</span><span style="color:#F07178;" data-v-6e7a1be0>vertex-stroke-width</span><span style="color:#89DDFF;" data-v-6e7a1be0>&#39;</span><span style="color:#89DDFF;" data-v-6e7a1be0>:</span><span style="color:#BABED8;" data-v-6e7a1be0> </span><span style="color:#F78C6C;" data-v-6e7a1be0>1</span><span style="color:#89DDFF;" data-v-6e7a1be0>,</span></span>
<span class="line" data-v-6e7a1be0><span style="color:#BABED8;" data-v-6e7a1be0>    </span><span style="color:#89DDFF;" data-v-6e7a1be0>&#39;</span><span style="color:#F07178;" data-v-6e7a1be0>vertex-stroke-color</span><span style="color:#89DDFF;" data-v-6e7a1be0>&#39;</span><span style="color:#89DDFF;" data-v-6e7a1be0>:</span><span style="color:#BABED8;" data-v-6e7a1be0> </span><span style="color:#89DDFF;" data-v-6e7a1be0>&#39;</span><span style="color:#C3E88D;" data-v-6e7a1be0>#44cef6</span><span style="color:#89DDFF;" data-v-6e7a1be0>&#39;</span><span style="color:#89DDFF;" data-v-6e7a1be0>,</span></span>
<span class="line" data-v-6e7a1be0><span style="color:#BABED8;" data-v-6e7a1be0>  </span><span style="color:#89DDFF;" data-v-6e7a1be0>},</span></span>
<span class="line" data-v-6e7a1be0><span style="color:#BABED8;" data-v-6e7a1be0>  </span><span style="color:#F07178;" data-v-6e7a1be0>finishedStyle</span><span style="color:#89DDFF;" data-v-6e7a1be0>:</span><span style="color:#BABED8;" data-v-6e7a1be0> </span><span style="color:#89DDFF;" data-v-6e7a1be0>{</span></span>
<span class="line" data-v-6e7a1be0><span style="color:#BABED8;" data-v-6e7a1be0>    </span><span style="color:#89DDFF;" data-v-6e7a1be0>&#39;</span><span style="color:#F07178;" data-v-6e7a1be0>line-opacity</span><span style="color:#89DDFF;" data-v-6e7a1be0>&#39;</span><span style="color:#89DDFF;" data-v-6e7a1be0>:</span><span style="color:#BABED8;" data-v-6e7a1be0> </span><span style="color:#F78C6C;" data-v-6e7a1be0>1</span><span style="color:#89DDFF;" data-v-6e7a1be0>,</span></span>
<span class="line" data-v-6e7a1be0><span style="color:#BABED8;" data-v-6e7a1be0>    </span><span style="color:#89DDFF;" data-v-6e7a1be0>&#39;</span><span style="color:#F07178;" data-v-6e7a1be0>line-dasharray</span><span style="color:#89DDFF;" data-v-6e7a1be0>&#39;</span><span style="color:#89DDFF;" data-v-6e7a1be0>:</span><span style="color:#BABED8;" data-v-6e7a1be0> [</span><span style="color:#F78C6C;" data-v-6e7a1be0>1</span><span style="color:#89DDFF;" data-v-6e7a1be0>,</span><span style="color:#BABED8;" data-v-6e7a1be0> </span><span style="color:#F78C6C;" data-v-6e7a1be0>0</span><span style="color:#BABED8;" data-v-6e7a1be0>]</span><span style="color:#89DDFF;" data-v-6e7a1be0>,</span></span>
<span class="line" data-v-6e7a1be0><span style="color:#BABED8;" data-v-6e7a1be0>  </span><span style="color:#89DDFF;" data-v-6e7a1be0>}</span></span>
<span class="line" data-v-6e7a1be0><span style="color:#89DDFF;" data-v-6e7a1be0>}</span><span style="color:#BABED8;" data-v-6e7a1be0>)</span></span>
<span class="line" data-v-6e7a1be0></span>
<span class="line" data-v-6e7a1be0><span style="color:#BABED8;" data-v-6e7a1be0>linePicker</span><span style="color:#89DDFF;" data-v-6e7a1be0>.</span><span style="color:#82AAFF;" data-v-6e7a1be0>addTo</span><span style="color:#BABED8;" data-v-6e7a1be0>(map)</span></span>
<span class="line" data-v-6e7a1be0></span>
<span class="line" data-v-6e7a1be0><span style="color:#BABED8;" data-v-6e7a1be0>linePicker</span><span style="color:#89DDFF;" data-v-6e7a1be0>.</span><span style="color:#82AAFF;" data-v-6e7a1be0>on</span><span style="color:#BABED8;" data-v-6e7a1be0>(</span><span style="color:#89DDFF;" data-v-6e7a1be0>&#39;</span><span style="color:#C3E88D;" data-v-6e7a1be0>finish</span><span style="color:#89DDFF;" data-v-6e7a1be0>&#39;</span><span style="color:#89DDFF;" data-v-6e7a1be0>,</span><span style="color:#BABED8;" data-v-6e7a1be0> </span><span style="color:#89DDFF;" data-v-6e7a1be0>(</span><span style="color:#BABED8;font-style:italic;" data-v-6e7a1be0>e</span><span style="color:#89DDFF;" data-v-6e7a1be0>)</span><span style="color:#BABED8;" data-v-6e7a1be0> </span><span style="color:#C792EA;" data-v-6e7a1be0>=&gt;</span><span style="color:#BABED8;" data-v-6e7a1be0> </span><span style="color:#89DDFF;" data-v-6e7a1be0>{</span></span>
<span class="line" data-v-6e7a1be0><span style="color:#F07178;" data-v-6e7a1be0>  </span><span style="color:#BABED8;" data-v-6e7a1be0>ElMessage</span><span style="color:#89DDFF;" data-v-6e7a1be0>.</span><span style="color:#82AAFF;" data-v-6e7a1be0>success</span><span style="color:#F07178;" data-v-6e7a1be0>(</span><span style="color:#89DDFF;" data-v-6e7a1be0>\`</span><span style="color:#C3E88D;" data-v-6e7a1be0>绘制完成，长度：</span><span style="color:#89DDFF;" data-v-6e7a1be0>\${</span><span style="color:#BABED8;" data-v-6e7a1be0>e</span><span style="color:#89DDFF;" data-v-6e7a1be0>.</span><span style="color:#BABED8;" data-v-6e7a1be0>length</span><span style="color:#89DDFF;" data-v-6e7a1be0>}</span><span style="color:#C3E88D;" data-v-6e7a1be0>米</span><span style="color:#89DDFF;" data-v-6e7a1be0>\`</span><span style="color:#F07178;" data-v-6e7a1be0>)</span></span>
<span class="line" data-v-6e7a1be0><span style="color:#89DDFF;" data-v-6e7a1be0>}</span><span style="color:#BABED8;" data-v-6e7a1be0>)</span></span>
<span class="line" data-v-6e7a1be0></span>
<span class="line" data-v-6e7a1be0><span style="color:#C792EA;" data-v-6e7a1be0>const</span><span style="color:#BABED8;" data-v-6e7a1be0> clear </span><span style="color:#89DDFF;" data-v-6e7a1be0>=</span><span style="color:#BABED8;" data-v-6e7a1be0> </span><span style="color:#89DDFF;" data-v-6e7a1be0>()</span><span style="color:#BABED8;" data-v-6e7a1be0> </span><span style="color:#C792EA;" data-v-6e7a1be0>=&gt;</span><span style="color:#BABED8;" data-v-6e7a1be0> </span><span style="color:#89DDFF;" data-v-6e7a1be0>{</span></span>
<span class="line" data-v-6e7a1be0><span style="color:#F07178;" data-v-6e7a1be0>  </span><span style="color:#BABED8;" data-v-6e7a1be0>linePicker</span><span style="color:#89DDFF;" data-v-6e7a1be0>?.</span><span style="color:#82AAFF;" data-v-6e7a1be0>clear</span><span style="color:#F07178;" data-v-6e7a1be0>()</span></span>
<span class="line" data-v-6e7a1be0><span style="color:#89DDFF;" data-v-6e7a1be0>}</span></span>
<span class="line" data-v-6e7a1be0></span>
<span class="line" data-v-6e7a1be0><span style="color:#C792EA;" data-v-6e7a1be0>const</span><span style="color:#BABED8;" data-v-6e7a1be0> getData </span><span style="color:#89DDFF;" data-v-6e7a1be0>=</span><span style="color:#BABED8;" data-v-6e7a1be0> </span><span style="color:#89DDFF;" data-v-6e7a1be0>()</span><span style="color:#BABED8;" data-v-6e7a1be0> </span><span style="color:#C792EA;" data-v-6e7a1be0>=&gt;</span><span style="color:#BABED8;" data-v-6e7a1be0> </span><span style="color:#89DDFF;" data-v-6e7a1be0>{</span></span>
<span class="line" data-v-6e7a1be0><span style="color:#F07178;" data-v-6e7a1be0>  </span><span style="color:#BABED8;" data-v-6e7a1be0>console</span><span style="color:#89DDFF;" data-v-6e7a1be0>.</span><span style="color:#82AAFF;" data-v-6e7a1be0>log</span><span style="color:#F07178;" data-v-6e7a1be0>(</span><span style="color:#BABED8;" data-v-6e7a1be0>linePicker</span><span style="color:#89DDFF;" data-v-6e7a1be0>?.</span><span style="color:#82AAFF;" data-v-6e7a1be0>getData</span><span style="color:#F07178;" data-v-6e7a1be0>())</span></span>
<span class="line" data-v-6e7a1be0><span style="color:#89DDFF;" data-v-6e7a1be0>}</span></span>
<span class="line" data-v-6e7a1be0></span>
<span class="line" data-v-6e7a1be0></span></code></pre></div></details>`,1),q=JSON.parse('{"title":"路径选取(LinePicker)","description":"","frontmatter":{},"headers":[],"relativePath":"util/line-picker.md"}'),E={name:"util/line-picker.md"},h=Object.assign(E,{setup(g){let s,a;const o=t=>{s=t,a=new c({style:{"line-width":2,"line-color":"#44cef6","line-opacity":.5,"line-dasharray":[5,3],"vertex-radius":4,"vertex-color":"#fff","vertex-stroke-width":1,"vertex-stroke-color":"#44cef6"},finishedStyle:{"line-opacity":1,"line-dasharray":[1,0]}}),a.addTo(s),a.on("finish",n=>{v.success(`绘制完成，长度：${n.length}米`)})},p=()=>{a==null||a.clear()},d=()=>{console.log(a==null?void 0:a.getData())};return y(()=>{a==null||a.remove()}),(t,n)=>(D(),i("div",null,[B,e("div",null,[F(b,{class:"map-view",style:{height:"600px","border-radius":"5px",overflow:"hidden"},onLoad:o}),e("div",{class:"button-wrapper"},[e("div",{class:"button",onClick:p},"清除"),e("div",{class:"button",onClick:d},"获取")])]),A]))}}),T=r(h,[["__scopeId","data-v-6e7a1be0"]]);export{q as __pageData,T as default};
