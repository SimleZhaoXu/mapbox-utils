import{M as _,o as E}from"./mapbox-utils.esm.1d7eedb7.js";import{f as F,b as v,g as f,a as p}from"./data.14459cbc.js";import{i as h,a as k,M as T}from"./index.2419e32d.js";import{_ as D,d as A,m as b,g as M,r as C,c as x,h as I,e as P,o as G}from"./index.3f3ae0c4.js";import"./sn_border.2879f07a.js";const N={anchor:"center",color:"#3FB1CE",element:"default",offset:[0,0],pitchAlignment:"auto",rotation:0,rotationAlignment:"auto",scale:1},S={enableMarkerOptions:"0",markerOptions:{anchor:"center",color:"#3FB1CE",element:"default",offset:[0,0],pitchAlignment:"auto",rotation:0,rotationAlignment:"auto",scale:1},enableFitBounds:"2",fitBoundsOptions:F},O=localStorage.getItem("MarkerPointLayerOptions"),a=O?JSON.parse(O):S,U=()=>{const r=Object.create(null);if(a.enableMarkerOptions==="1"){const t=Object.create(null);Object.keys(a.markerOptions).forEach(o=>{JSON.stringify(a.markerOptions[o])!==JSON.stringify(N[o])&&(t[o]=a.markerOptions[o])}),Object.keys(t).length>0&&(r.markerOptions=t)}return a.enableFitBounds!=="0"&&(r.fitBoundsOptions=a.enableFitBounds==="2"?v(a.fitBoundsOptions):!0),r};const J={class:"line-gui"},j=A({__name:"index",setup(r){b(()=>{var i;(i=c.value)==null||i.appendChild(u.domElement),u.domElement.classList.add("custom-gui")}),M(()=>{u.destroy(),e==null||e.remove()});let t=f(20),o;const g=i=>{o=i,l()};let e;const l=()=>{if(!o){console.log("\u8BF7\u7B49\u5F85\u5730\u56FE\u52A0\u8F7D\u5B8C\u6210");return}e==null||e.remove(),e=new E({key:"id",data:p(t),...U()}),e.addTo(o)},B=()=>{localStorage.setItem("MarkerPointLayerOptions",JSON.stringify(a)),l()},c=C(),u=new h.GUI({name:"line",autoPlace:!1,width:400,closeOnTop:!0});k(u,a,T,B);let d=-1;const m=()=>(d++,d>=t.length&&(d=0),t[d].id),s={addTo:()=>{e.addTo(o)},remove:()=>{e==null||e.remove()},setData:()=>{t=f(200),e==null||e.setData(p(t))},easeTo:()=>{e==null||e.easeTo(m())},flyTo:()=>{e==null||e.flyTo(m())},fitBounds:()=>{e==null||e.fitBounds()}},n=u.addFolder("API");return n.open(),n.add(s,"addTo").name("\u6DFB\u52A0\u5230\u5730\u56FE---addTo(map)"),n.add(s,"remove").name("\u4ECE\u5730\u56FE\u4E0A\u79FB\u9664---remove()"),n.add(s,"setData").name("\u5207\u6362\u6570\u636E----setData(data)"),n.add(s,"easeTo").name("\u5E73\u79FB\u5B9A\u4F4D\u5230\u67D0\u4E2A\u70B9----easeTo(valOfKey)"),n.add(s,"flyTo").name("\u98DE\u884C\u5B9A\u4F4D\u5230\u67D0\u4E2A\u70B9----flyTo(valOfKey)"),n.add(s,"fitBounds").name("\u70B9\u4F4D\u9002\u5E94\u89C6\u53E3-------fitBounds(options)"),(i,w)=>(G(),x("div",J,[I(_,{onLoad:g}),P("div",{ref_key:"container",ref:c,class:"gui-container"},null,512)]))}});var z=D(j,[["__scopeId","data-v-e1e657f6"]]);export{z as default};
