import{M as c}from"./chunks/map-view.3fe756a0.js";import{k as r}from"./chunks/mapbox-utils.esm.43c6f587.js";import{E as v}from"./chunks/index.6cef4780.js";import{_ as y,a1 as D,h as F,i,y as s,E as B,N as l}from"./chunks/framework.73679867.js";import"./chunks/mapbox-gl.95dcea97.js";import"./chunks/index.4ed993c7.js";import"./chunks/map_tian.a52cb535.js";import"./chunks/theme.fe21c5c1.js";const A=l(`<h1 id="区域框选-矩形-rectareapicker" tabindex="-1" data-v-d8a60372>区域框选（矩形）(RectAreaPicker) <a class="header-anchor" href="#区域框选-矩形-rectareapicker" aria-label="Permalink to &quot;区域框选（矩形）(RectAreaPicker)&quot;" data-v-d8a60372>​</a></h1><p data-v-d8a60372>用来在地图上绘制矩形</p><h2 id="基础用法" tabindex="-1" data-v-d8a60372>基础用法 <a class="header-anchor" href="#基础用法" aria-label="Permalink to &quot;基础用法&quot;" data-v-d8a60372>​</a></h2><div class="language-js" data-v-d8a60372><button title="Copy Code" class="copy" data-v-d8a60372></button><span class="lang" data-v-d8a60372>js</span><pre class="shiki material-theme-palenight has-highlighted-lines" data-v-d8a60372><code data-v-d8a60372><span class="line" data-v-d8a60372><span style="color:#676E95;font-style:italic;" data-v-d8a60372>// 1. 导入</span></span>
<span class="line highlighted" data-v-d8a60372><span style="color:#89DDFF;font-style:italic;" data-v-d8a60372>import</span><span style="color:#BABED8;" data-v-d8a60372> </span><span style="color:#89DDFF;" data-v-d8a60372>{</span><span style="color:#F07178;" data-v-d8a60372> </span><span style="color:#BABED8;" data-v-d8a60372>RectAreaPicker</span><span style="color:#F07178;" data-v-d8a60372> </span><span style="color:#89DDFF;" data-v-d8a60372>}</span><span style="color:#BABED8;" data-v-d8a60372> </span><span style="color:#89DDFF;font-style:italic;" data-v-d8a60372>from</span><span style="color:#BABED8;" data-v-d8a60372> </span><span style="color:#89DDFF;" data-v-d8a60372>&#39;</span><span style="color:#C3E88D;" data-v-d8a60372>mapbox-postting</span><span style="color:#89DDFF;" data-v-d8a60372>&#39;</span></span>
<span class="line" data-v-d8a60372><span style="color:#676E95;font-style:italic;" data-v-d8a60372>// 2. 创建RectAreaPicker实例</span></span>
<span class="line highlighted" data-v-d8a60372><span style="color:#C792EA;" data-v-d8a60372>const</span><span style="color:#BABED8;" data-v-d8a60372> rectAreaPicker </span><span style="color:#89DDFF;" data-v-d8a60372>=</span><span style="color:#BABED8;" data-v-d8a60372> </span><span style="color:#89DDFF;" data-v-d8a60372>new</span><span style="color:#BABED8;" data-v-d8a60372> </span><span style="color:#82AAFF;" data-v-d8a60372>RectAreaPicker</span><span style="color:#BABED8;" data-v-d8a60372>(options)</span></span>
<span class="line" data-v-d8a60372><span style="color:#676E95;font-style:italic;" data-v-d8a60372>// 3. 添加到地图</span></span>
<span class="line" data-v-d8a60372><span style="color:#BABED8;" data-v-d8a60372>rectAreaPicker</span><span style="color:#89DDFF;" data-v-d8a60372>.</span><span style="color:#82AAFF;" data-v-d8a60372>addTo</span><span style="color:#BABED8;" data-v-d8a60372>(map) </span><span style="color:#676E95;font-style:italic;" data-v-d8a60372>// map为MapBox地图实例</span></span>
<span class="line" data-v-d8a60372></span></code></pre></div><h2 id="options" tabindex="-1" data-v-d8a60372>Options <a class="header-anchor" href="#options" aria-label="Permalink to &quot;Options&quot;" data-v-d8a60372>​</a></h2><p data-v-d8a60372>创建<code data-v-d8a60372>RectAreaPicker</code>实例时需要传入的参数对象，包含以下几个部分：</p><ul data-v-d8a60372><li data-v-d8a60372><p data-v-d8a60372><strong data-v-d8a60372>style</strong>： 绘制矩形时的样式，属性如下</p><table data-v-d8a60372><thead data-v-d8a60372><tr data-v-d8a60372><th style="text-align:center;" data-v-d8a60372>属性名</th><th style="text-align:left;" data-v-d8a60372>描述</th></tr></thead><tbody data-v-d8a60372><tr data-v-d8a60372><td style="text-align:center;" data-v-d8a60372><strong data-v-d8a60372>fill-color</strong></td><td style="text-align:left;" data-v-d8a60372>填充颜色(可选)</td></tr><tr data-v-d8a60372><td style="text-align:center;" data-v-d8a60372><strong data-v-d8a60372>fill-opacity</strong></td><td style="text-align:left;" data-v-d8a60372>填充不透明度（可选，取值范围为 0 ~ 1，默认值为<code data-v-d8a60372>1</code>）</td></tr><tr data-v-d8a60372><td style="text-align:center;" data-v-d8a60372><strong data-v-d8a60372>stroke-width</strong></td><td style="text-align:left;" data-v-d8a60372>描边的宽度（可选，值 &gt;= 0，单位：像素）</td></tr><tr data-v-d8a60372><td style="text-align:center;" data-v-d8a60372><strong data-v-d8a60372>stroke-color</strong></td><td style="text-align:left;" data-v-d8a60372>描边的颜色（可选）</td></tr><tr data-v-d8a60372><td style="text-align:center;" data-v-d8a60372><strong data-v-d8a60372>stroke-opacity</strong></td><td style="text-align:left;" data-v-d8a60372>描边的不透明度（可选，取值范围为 0 ~ 1，默认值为<code data-v-d8a60372>1</code>）</td></tr><tr data-v-d8a60372><td style="text-align:center;" data-v-d8a60372><strong data-v-d8a60372>stroke-blur</strong></td><td style="text-align:left;" data-v-d8a60372>描边的虚化（可选，取值范围为 0 ~ 1，默认值为<code data-v-d8a60372>0</code>）</td></tr><tr data-v-d8a60372><td style="text-align:center;" data-v-d8a60372><strong data-v-d8a60372>stroke-dasharray</strong></td><td style="text-align:left;" data-v-d8a60372>描边的破折号部分和间隔的长度（可选，默认为实线）</td></tr><tr data-v-d8a60372><td style="text-align:center;" data-v-d8a60372><strong data-v-d8a60372>vertex-radius</strong></td><td style="text-align:left;" data-v-d8a60372>顶点的半径（可选，值 &gt;= 0，单位：像素）</td></tr><tr data-v-d8a60372><td style="text-align:center;" data-v-d8a60372><strong data-v-d8a60372>vertex-color</strong></td><td style="text-align:left;" data-v-d8a60372>顶点的颜色（可选）</td></tr><tr data-v-d8a60372><td style="text-align:center;" data-v-d8a60372><strong data-v-d8a60372>vertex-opacity</strong></td><td style="text-align:left;" data-v-d8a60372>顶点的不透明度（可选，取值范围为 0 ~ 1，默认值为 1）</td></tr><tr data-v-d8a60372><td style="text-align:center;" data-v-d8a60372><strong data-v-d8a60372>vertex-stroke-width</strong></td><td style="text-align:left;" data-v-d8a60372>顶点的描边宽度（可选，值 &gt;= 0，默认值为 0，单位：像素）</td></tr><tr data-v-d8a60372><td style="text-align:center;" data-v-d8a60372><strong data-v-d8a60372>vertex-stroke-color</strong></td><td style="text-align:left;" data-v-d8a60372>顶点的描边颜色（可选）</td></tr><tr data-v-d8a60372><td style="text-align:center;" data-v-d8a60372><strong data-v-d8a60372>vertex-stroke-opacity</strong></td><td style="text-align:left;" data-v-d8a60372>顶点的描边不透明度（可选，取值范围为 0 ~ 1，默认值为 1）</td></tr></tbody></table></li><li data-v-d8a60372><p data-v-d8a60372><strong data-v-d8a60372>finishedStyle</strong>：矩形绘制完成后的样式，属性同上表格</p></li></ul><h2 id="api" tabindex="-1" data-v-d8a60372>API <a class="header-anchor" href="#api" aria-label="Permalink to &quot;API&quot;" data-v-d8a60372>​</a></h2><h3 id="addto" tabindex="-1" data-v-d8a60372>addTo() <a class="header-anchor" href="#addto" aria-label="Permalink to &quot;addTo()&quot;" data-v-d8a60372>​</a></h3><p data-v-d8a60372>将图层及事件监听器添加到地图实例上</p><ul data-v-d8a60372><li data-v-d8a60372><p data-v-d8a60372>类型</p><div class="language-ts" data-v-d8a60372><button title="Copy Code" class="copy" data-v-d8a60372></button><span class="lang" data-v-d8a60372>ts</span><pre class="shiki material-theme-palenight" data-v-d8a60372><code data-v-d8a60372><span class="line" data-v-d8a60372><span style="color:#C792EA;" data-v-d8a60372>function</span><span style="color:#89DDFF;" data-v-d8a60372>(</span><span style="color:#BABED8;font-style:italic;" data-v-d8a60372>map</span><span style="color:#89DDFF;" data-v-d8a60372>:</span><span style="color:#BABED8;" data-v-d8a60372> </span><span style="color:#FFCB6B;" data-v-d8a60372>mapboxgl</span><span style="color:#89DDFF;" data-v-d8a60372>.</span><span style="color:#FFCB6B;" data-v-d8a60372>Map</span><span style="color:#89DDFF;" data-v-d8a60372>):</span><span style="color:#BABED8;" data-v-d8a60372> </span><span style="color:#FFCB6B;" data-v-d8a60372>this</span></span>
<span class="line" data-v-d8a60372></span></code></pre></div></li><li data-v-d8a60372><p data-v-d8a60372>示例</p><div class="language-ts" data-v-d8a60372><button title="Copy Code" class="copy" data-v-d8a60372></button><span class="lang" data-v-d8a60372>ts</span><pre class="shiki material-theme-palenight" data-v-d8a60372><code data-v-d8a60372><span class="line" data-v-d8a60372><span style="color:#C792EA;" data-v-d8a60372>const</span><span style="color:#BABED8;" data-v-d8a60372> rectAreaPicker </span><span style="color:#89DDFF;" data-v-d8a60372>=</span><span style="color:#BABED8;" data-v-d8a60372> </span><span style="color:#89DDFF;" data-v-d8a60372>new</span><span style="color:#BABED8;" data-v-d8a60372> </span><span style="color:#82AAFF;" data-v-d8a60372>RectAreaPicker</span><span style="color:#BABED8;" data-v-d8a60372>(options)</span></span>
<span class="line" data-v-d8a60372><span style="color:#BABED8;" data-v-d8a60372>rectAreaPicker</span><span style="color:#89DDFF;" data-v-d8a60372>.</span><span style="color:#82AAFF;" data-v-d8a60372>addTo</span><span style="color:#BABED8;" data-v-d8a60372>(map)</span></span>
<span class="line" data-v-d8a60372></span></code></pre></div></li></ul><h3 id="remove" tabindex="-1" data-v-d8a60372>remove() <a class="header-anchor" href="#remove" aria-label="Permalink to &quot;remove()&quot;" data-v-d8a60372>​</a></h3><p data-v-d8a60372>将图层及事件监听器从地图上移除</p><ul data-v-d8a60372><li data-v-d8a60372><p data-v-d8a60372>类型</p><div class="language-ts" data-v-d8a60372><button title="Copy Code" class="copy" data-v-d8a60372></button><span class="lang" data-v-d8a60372>ts</span><pre class="shiki material-theme-palenight" data-v-d8a60372><code data-v-d8a60372><span class="line" data-v-d8a60372><span style="color:#C792EA;" data-v-d8a60372>function</span><span style="color:#89DDFF;" data-v-d8a60372>():</span><span style="color:#BABED8;" data-v-d8a60372> </span><span style="color:#FFCB6B;" data-v-d8a60372>this</span></span>
<span class="line" data-v-d8a60372></span></code></pre></div></li><li data-v-d8a60372><p data-v-d8a60372>示例</p><div class="language-ts" data-v-d8a60372><button title="Copy Code" class="copy" data-v-d8a60372></button><span class="lang" data-v-d8a60372>ts</span><pre class="shiki material-theme-palenight" data-v-d8a60372><code data-v-d8a60372><span class="line" data-v-d8a60372><span style="color:#BABED8;" data-v-d8a60372>rectAreaPicker</span><span style="color:#89DDFF;" data-v-d8a60372>.</span><span style="color:#82AAFF;" data-v-d8a60372>remove</span><span style="color:#BABED8;" data-v-d8a60372>()</span></span>
<span class="line" data-v-d8a60372></span></code></pre></div></li></ul><h3 id="clear" tabindex="-1" data-v-d8a60372>clear() <a class="header-anchor" href="#clear" aria-label="Permalink to &quot;clear()&quot;" data-v-d8a60372>​</a></h3><p data-v-d8a60372>清除已绘制的矩形，在一次绘制完成后，需要调用此方法，才能进行下一次绘制</p><ul data-v-d8a60372><li data-v-d8a60372><p data-v-d8a60372>类型</p><div class="language-ts" data-v-d8a60372><button title="Copy Code" class="copy" data-v-d8a60372></button><span class="lang" data-v-d8a60372>ts</span><pre class="shiki material-theme-palenight" data-v-d8a60372><code data-v-d8a60372><span class="line" data-v-d8a60372><span style="color:#C792EA;" data-v-d8a60372>function</span><span style="color:#89DDFF;" data-v-d8a60372>():</span><span style="color:#BABED8;" data-v-d8a60372> </span><span style="color:#FFCB6B;" data-v-d8a60372>this</span></span>
<span class="line" data-v-d8a60372></span></code></pre></div></li><li data-v-d8a60372><p data-v-d8a60372>示例</p><div class="language-ts" data-v-d8a60372><button title="Copy Code" class="copy" data-v-d8a60372></button><span class="lang" data-v-d8a60372>ts</span><pre class="shiki material-theme-palenight" data-v-d8a60372><code data-v-d8a60372><span class="line" data-v-d8a60372><span style="color:#BABED8;" data-v-d8a60372>rectAreaPicker</span><span style="color:#89DDFF;" data-v-d8a60372>.</span><span style="color:#82AAFF;" data-v-d8a60372>clear</span><span style="color:#BABED8;" data-v-d8a60372>()</span></span>
<span class="line" data-v-d8a60372></span></code></pre></div></li></ul><h3 id="getdata" tabindex="-1" data-v-d8a60372>getData() <a class="header-anchor" href="#getdata" aria-label="Permalink to &quot;getData()&quot;" data-v-d8a60372>​</a></h3><p data-v-d8a60372>返回已绘制完成的矩形数据，若尚未绘制完成，则返回<code data-v-d8a60372>null</code></p><ul data-v-d8a60372><li data-v-d8a60372><p data-v-d8a60372>类型</p><div class="language-ts" data-v-d8a60372><button title="Copy Code" class="copy" data-v-d8a60372></button><span class="lang" data-v-d8a60372>ts</span><pre class="shiki material-theme-palenight" data-v-d8a60372><code data-v-d8a60372><span class="line" data-v-d8a60372><span style="color:#C792EA;" data-v-d8a60372>function</span><span style="color:#89DDFF;" data-v-d8a60372>():</span><span style="color:#BABED8;" data-v-d8a60372> </span><span style="color:#FFCB6B;" data-v-d8a60372>GeoJSON</span><span style="color:#89DDFF;" data-v-d8a60372>.</span><span style="color:#FFCB6B;" data-v-d8a60372>Feature</span><span style="color:#89DDFF;" data-v-d8a60372>&lt;</span><span style="color:#FFCB6B;" data-v-d8a60372>GeoJSON</span><span style="color:#89DDFF;" data-v-d8a60372>.</span><span style="color:#FFCB6B;" data-v-d8a60372>Polygon</span><span style="color:#89DDFF;" data-v-d8a60372>&gt;</span><span style="color:#BABED8;" data-v-d8a60372> </span><span style="color:#89DDFF;" data-v-d8a60372>|</span><span style="color:#BABED8;" data-v-d8a60372> </span><span style="color:#FFCB6B;" data-v-d8a60372>null</span></span>
<span class="line" data-v-d8a60372></span></code></pre></div></li><li data-v-d8a60372><p data-v-d8a60372>示例</p><div class="language-ts" data-v-d8a60372><button title="Copy Code" class="copy" data-v-d8a60372></button><span class="lang" data-v-d8a60372>ts</span><pre class="shiki material-theme-palenight" data-v-d8a60372><code data-v-d8a60372><span class="line" data-v-d8a60372><span style="color:#BABED8;" data-v-d8a60372>rectAreaPicker</span><span style="color:#89DDFF;" data-v-d8a60372>.</span><span style="color:#82AAFF;" data-v-d8a60372>getData</span><span style="color:#BABED8;" data-v-d8a60372>()</span></span>
<span class="line" data-v-d8a60372></span></code></pre></div></li></ul><h3 id="on" tabindex="-1" data-v-d8a60372>on <a class="header-anchor" href="#on" aria-label="Permalink to &quot;on&quot;" data-v-d8a60372>​</a></h3><p data-v-d8a60372>注册事件监听器</p><ul data-v-d8a60372><li data-v-d8a60372><p data-v-d8a60372>类型</p><div class="language-ts" data-v-d8a60372><button title="Copy Code" class="copy" data-v-d8a60372></button><span class="lang" data-v-d8a60372>ts</span><pre class="shiki material-theme-palenight" data-v-d8a60372><code data-v-d8a60372><span class="line" data-v-d8a60372><span style="color:#C792EA;" data-v-d8a60372>function</span><span style="color:#89DDFF;" data-v-d8a60372>&lt;</span><span style="color:#FFCB6B;" data-v-d8a60372>T</span><span style="color:#BABED8;" data-v-d8a60372> </span><span style="color:#C792EA;" data-v-d8a60372>extends</span><span style="color:#BABED8;" data-v-d8a60372> </span><span style="color:#89DDFF;" data-v-d8a60372>keyof</span><span style="color:#BABED8;" data-v-d8a60372> </span><span style="color:#FFCB6B;" data-v-d8a60372>EventType</span><span style="color:#89DDFF;" data-v-d8a60372>&lt;</span><span style="color:#FFCB6B;" data-v-d8a60372>this</span><span style="color:#89DDFF;" data-v-d8a60372>&gt;&gt;(</span></span>
<span class="line" data-v-d8a60372><span style="color:#BABED8;" data-v-d8a60372>  </span><span style="color:#BABED8;font-style:italic;" data-v-d8a60372>type</span><span style="color:#89DDFF;" data-v-d8a60372>:</span><span style="color:#BABED8;" data-v-d8a60372> </span><span style="color:#FFCB6B;" data-v-d8a60372>T</span><span style="color:#89DDFF;" data-v-d8a60372>,</span></span>
<span class="line" data-v-d8a60372><span style="color:#BABED8;" data-v-d8a60372>  </span><span style="color:#82AAFF;" data-v-d8a60372>listener</span><span style="color:#89DDFF;" data-v-d8a60372>:</span><span style="color:#BABED8;" data-v-d8a60372> </span><span style="color:#89DDFF;" data-v-d8a60372>(</span><span style="color:#BABED8;font-style:italic;" data-v-d8a60372>ev</span><span style="color:#89DDFF;" data-v-d8a60372>:</span><span style="color:#BABED8;" data-v-d8a60372> </span><span style="color:#FFCB6B;" data-v-d8a60372>EventType</span><span style="color:#89DDFF;" data-v-d8a60372>&lt;</span><span style="color:#FFCB6B;" data-v-d8a60372>this</span><span style="color:#89DDFF;" data-v-d8a60372>&gt;</span><span style="color:#BABED8;" data-v-d8a60372>[</span><span style="color:#FFCB6B;" data-v-d8a60372>T</span><span style="color:#BABED8;" data-v-d8a60372>]</span><span style="color:#89DDFF;" data-v-d8a60372>)</span><span style="color:#BABED8;" data-v-d8a60372> </span><span style="color:#C792EA;" data-v-d8a60372>=&gt;</span><span style="color:#BABED8;" data-v-d8a60372> </span><span style="color:#FFCB6B;" data-v-d8a60372>void</span></span>
<span class="line" data-v-d8a60372><span style="color:#89DDFF;" data-v-d8a60372>):</span><span style="color:#BABED8;" data-v-d8a60372> </span><span style="color:#FFCB6B;" data-v-d8a60372>this</span></span>
<span class="line" data-v-d8a60372></span></code></pre></div></li><li data-v-d8a60372><p data-v-d8a60372>示例</p><div class="language-ts" data-v-d8a60372><button title="Copy Code" class="copy" data-v-d8a60372></button><span class="lang" data-v-d8a60372>ts</span><pre class="shiki material-theme-palenight" data-v-d8a60372><code data-v-d8a60372><span class="line" data-v-d8a60372><span style="color:#BABED8;" data-v-d8a60372>rectAreaPicker</span><span style="color:#89DDFF;" data-v-d8a60372>.</span><span style="color:#82AAFF;" data-v-d8a60372>on</span><span style="color:#BABED8;" data-v-d8a60372>(</span><span style="color:#89DDFF;" data-v-d8a60372>&#39;</span><span style="color:#C3E88D;" data-v-d8a60372>finish</span><span style="color:#89DDFF;" data-v-d8a60372>&#39;</span><span style="color:#89DDFF;" data-v-d8a60372>,</span><span style="color:#BABED8;" data-v-d8a60372> </span><span style="color:#89DDFF;" data-v-d8a60372>(</span><span style="color:#BABED8;font-style:italic;" data-v-d8a60372>e</span><span style="color:#89DDFF;" data-v-d8a60372>)</span><span style="color:#BABED8;" data-v-d8a60372> </span><span style="color:#C792EA;" data-v-d8a60372>=&gt;</span><span style="color:#BABED8;" data-v-d8a60372> </span><span style="color:#89DDFF;" data-v-d8a60372>{</span></span>
<span class="line" data-v-d8a60372><span style="color:#F07178;" data-v-d8a60372>  </span><span style="color:#BABED8;" data-v-d8a60372>console</span><span style="color:#89DDFF;" data-v-d8a60372>.</span><span style="color:#82AAFF;" data-v-d8a60372>log</span><span style="color:#F07178;" data-v-d8a60372>(</span><span style="color:#BABED8;" data-v-d8a60372>e</span><span style="color:#89DDFF;" data-v-d8a60372>.</span><span style="color:#BABED8;" data-v-d8a60372>data</span><span style="color:#F07178;" data-v-d8a60372>)</span></span>
<span class="line" data-v-d8a60372><span style="color:#89DDFF;" data-v-d8a60372>}</span><span style="color:#BABED8;" data-v-d8a60372>)</span></span>
<span class="line" data-v-d8a60372></span></code></pre></div></li></ul><h2 id="事件" tabindex="-1" data-v-d8a60372>事件 <a class="header-anchor" href="#事件" aria-label="Permalink to &quot;事件&quot;" data-v-d8a60372>​</a></h2><h3 id="finish" tabindex="-1" data-v-d8a60372>finish <a class="header-anchor" href="#finish" aria-label="Permalink to &quot;finish&quot;" data-v-d8a60372>​</a></h3><p data-v-d8a60372>矩形制完成后触发，可获取绘制的矩形geojson数据，以及矩形的面积</p><ul data-v-d8a60372><li data-v-d8a60372><p data-v-d8a60372>callback</p><div class="language-ts" data-v-d8a60372><button title="Copy Code" class="copy" data-v-d8a60372></button><span class="lang" data-v-d8a60372>ts</span><pre class="shiki material-theme-palenight" data-v-d8a60372><code data-v-d8a60372><span class="line" data-v-d8a60372><span style="color:#89DDFF;" data-v-d8a60372>(</span><span style="color:#BABED8;font-style:italic;" data-v-d8a60372>e</span><span style="color:#89DDFF;" data-v-d8a60372>:</span><span style="color:#BABED8;" data-v-d8a60372> </span><span style="color:#89DDFF;" data-v-d8a60372>{</span></span>
<span class="line" data-v-d8a60372><span style="color:#BABED8;" data-v-d8a60372>  </span><span style="color:#F07178;" data-v-d8a60372>type</span><span style="color:#89DDFF;" data-v-d8a60372>:</span><span style="color:#BABED8;" data-v-d8a60372> </span><span style="color:#89DDFF;" data-v-d8a60372>&#39;</span><span style="color:#C3E88D;" data-v-d8a60372>finish</span><span style="color:#89DDFF;" data-v-d8a60372>&#39;</span><span style="color:#89DDFF;" data-v-d8a60372>;</span></span>
<span class="line" data-v-d8a60372><span style="color:#BABED8;" data-v-d8a60372>  </span><span style="color:#F07178;" data-v-d8a60372>target</span><span style="color:#89DDFF;" data-v-d8a60372>:</span><span style="color:#BABED8;" data-v-d8a60372> </span><span style="color:#FFCB6B;" data-v-d8a60372>this</span><span style="color:#89DDFF;" data-v-d8a60372>;</span></span>
<span class="line" data-v-d8a60372><span style="color:#BABED8;" data-v-d8a60372>  </span><span style="color:#F07178;" data-v-d8a60372>data</span><span style="color:#89DDFF;" data-v-d8a60372>:</span><span style="color:#BABED8;" data-v-d8a60372> </span><span style="color:#FFCB6B;" data-v-d8a60372>GeoJSON</span><span style="color:#89DDFF;" data-v-d8a60372>.</span><span style="color:#FFCB6B;" data-v-d8a60372>Feature</span><span style="color:#89DDFF;" data-v-d8a60372>&lt;</span><span style="color:#FFCB6B;" data-v-d8a60372>GeoJSON</span><span style="color:#89DDFF;" data-v-d8a60372>.</span><span style="color:#FFCB6B;" data-v-d8a60372>Polygon</span><span style="color:#89DDFF;" data-v-d8a60372>&gt;;</span><span style="color:#BABED8;" data-v-d8a60372> </span><span style="color:#676E95;font-style:italic;" data-v-d8a60372>// 矩形数据</span></span>
<span class="line" data-v-d8a60372><span style="color:#BABED8;" data-v-d8a60372>  </span><span style="color:#F07178;" data-v-d8a60372>acreage</span><span style="color:#89DDFF;" data-v-d8a60372>:</span><span style="color:#BABED8;" data-v-d8a60372> </span><span style="color:#FFCB6B;" data-v-d8a60372>number</span><span style="color:#BABED8;" data-v-d8a60372> </span><span style="color:#676E95;font-style:italic;" data-v-d8a60372>// 矩形面积，单位(平方米)</span></span>
<span class="line" data-v-d8a60372><span style="color:#89DDFF;" data-v-d8a60372>})</span><span style="color:#BABED8;" data-v-d8a60372> </span><span style="color:#C792EA;" data-v-d8a60372>=&gt;</span><span style="color:#BABED8;" data-v-d8a60372> </span><span style="color:#89DDFF;" data-v-d8a60372>void</span></span>
<span class="line" data-v-d8a60372></span></code></pre></div></li><li data-v-d8a60372><p data-v-d8a60372>示例</p><div class="language-ts" data-v-d8a60372><button title="Copy Code" class="copy" data-v-d8a60372></button><span class="lang" data-v-d8a60372>ts</span><pre class="shiki material-theme-palenight" data-v-d8a60372><code data-v-d8a60372><span class="line" data-v-d8a60372><span style="color:#BABED8;" data-v-d8a60372>rectAreaPicker</span><span style="color:#89DDFF;" data-v-d8a60372>.</span><span style="color:#82AAFF;" data-v-d8a60372>on</span><span style="color:#BABED8;" data-v-d8a60372>(</span><span style="color:#89DDFF;" data-v-d8a60372>&#39;</span><span style="color:#C3E88D;" data-v-d8a60372>finish</span><span style="color:#89DDFF;" data-v-d8a60372>&#39;</span><span style="color:#89DDFF;" data-v-d8a60372>,</span><span style="color:#BABED8;" data-v-d8a60372> </span><span style="color:#89DDFF;" data-v-d8a60372>(</span><span style="color:#BABED8;font-style:italic;" data-v-d8a60372>e</span><span style="color:#89DDFF;" data-v-d8a60372>)</span><span style="color:#BABED8;" data-v-d8a60372> </span><span style="color:#C792EA;" data-v-d8a60372>=&gt;</span><span style="color:#BABED8;" data-v-d8a60372> </span><span style="color:#89DDFF;" data-v-d8a60372>{</span></span>
<span class="line" data-v-d8a60372><span style="color:#F07178;" data-v-d8a60372>  </span><span style="color:#BABED8;" data-v-d8a60372>console</span><span style="color:#89DDFF;" data-v-d8a60372>.</span><span style="color:#82AAFF;" data-v-d8a60372>log</span><span style="color:#F07178;" data-v-d8a60372>(</span><span style="color:#BABED8;" data-v-d8a60372>e</span><span style="color:#89DDFF;" data-v-d8a60372>.</span><span style="color:#BABED8;" data-v-d8a60372>data</span><span style="color:#F07178;" data-v-d8a60372>)</span></span>
<span class="line" data-v-d8a60372><span style="color:#F07178;" data-v-d8a60372>  </span><span style="color:#BABED8;" data-v-d8a60372>console</span><span style="color:#89DDFF;" data-v-d8a60372>.</span><span style="color:#82AAFF;" data-v-d8a60372>log</span><span style="color:#F07178;" data-v-d8a60372>(</span><span style="color:#BABED8;" data-v-d8a60372>e</span><span style="color:#89DDFF;" data-v-d8a60372>.</span><span style="color:#BABED8;" data-v-d8a60372>acreage</span><span style="color:#F07178;" data-v-d8a60372>)</span></span>
<span class="line" data-v-d8a60372><span style="color:#89DDFF;" data-v-d8a60372>}</span><span style="color:#BABED8;" data-v-d8a60372>)</span></span>
<span class="line" data-v-d8a60372></span></code></pre></div></li></ul><h2 id="demo" tabindex="-1" data-v-d8a60372>Demo <a class="header-anchor" href="#demo" aria-label="Permalink to &quot;Demo&quot;" data-v-d8a60372>​</a></h2>`,28),E=l(`<details class="details custom-block" data-v-d8a60372><summary data-v-d8a60372>点击查看代码</summary><div class="language-js" data-v-d8a60372><button title="Copy Code" class="copy" data-v-d8a60372></button><span class="lang" data-v-d8a60372>js</span><pre class="shiki material-theme-palenight" data-v-d8a60372><code data-v-d8a60372><span class="line" data-v-d8a60372><span style="color:#BABED8;" data-v-d8a60372>rectAreaPicker </span><span style="color:#89DDFF;" data-v-d8a60372>=</span><span style="color:#BABED8;" data-v-d8a60372> </span><span style="color:#89DDFF;" data-v-d8a60372>new</span><span style="color:#BABED8;" data-v-d8a60372> </span><span style="color:#82AAFF;" data-v-d8a60372>RectAreaPicker</span><span style="color:#BABED8;" data-v-d8a60372>(</span><span style="color:#89DDFF;" data-v-d8a60372>{</span></span>
<span class="line" data-v-d8a60372><span style="color:#BABED8;" data-v-d8a60372>  </span><span style="color:#F07178;" data-v-d8a60372>style</span><span style="color:#89DDFF;" data-v-d8a60372>:</span><span style="color:#BABED8;" data-v-d8a60372> </span><span style="color:#89DDFF;" data-v-d8a60372>{</span></span>
<span class="line" data-v-d8a60372><span style="color:#BABED8;" data-v-d8a60372>    </span><span style="color:#89DDFF;" data-v-d8a60372>&#39;</span><span style="color:#F07178;" data-v-d8a60372>fill-color</span><span style="color:#89DDFF;" data-v-d8a60372>&#39;</span><span style="color:#89DDFF;" data-v-d8a60372>:</span><span style="color:#BABED8;" data-v-d8a60372> </span><span style="color:#89DDFF;" data-v-d8a60372>&#39;</span><span style="color:#C3E88D;" data-v-d8a60372>#44cef6</span><span style="color:#89DDFF;" data-v-d8a60372>&#39;</span><span style="color:#89DDFF;" data-v-d8a60372>,</span></span>
<span class="line" data-v-d8a60372><span style="color:#BABED8;" data-v-d8a60372>    </span><span style="color:#89DDFF;" data-v-d8a60372>&#39;</span><span style="color:#F07178;" data-v-d8a60372>fill-opacity</span><span style="color:#89DDFF;" data-v-d8a60372>&#39;</span><span style="color:#89DDFF;" data-v-d8a60372>:</span><span style="color:#BABED8;" data-v-d8a60372> </span><span style="color:#F78C6C;" data-v-d8a60372>0.2</span><span style="color:#89DDFF;" data-v-d8a60372>,</span></span>
<span class="line" data-v-d8a60372><span style="color:#BABED8;" data-v-d8a60372>    </span><span style="color:#89DDFF;" data-v-d8a60372>&#39;</span><span style="color:#F07178;" data-v-d8a60372>stroke-width</span><span style="color:#89DDFF;" data-v-d8a60372>&#39;</span><span style="color:#89DDFF;" data-v-d8a60372>:</span><span style="color:#BABED8;" data-v-d8a60372> </span><span style="color:#F78C6C;" data-v-d8a60372>2</span><span style="color:#89DDFF;" data-v-d8a60372>,</span></span>
<span class="line" data-v-d8a60372><span style="color:#BABED8;" data-v-d8a60372>    </span><span style="color:#89DDFF;" data-v-d8a60372>&#39;</span><span style="color:#F07178;" data-v-d8a60372>stroke-color</span><span style="color:#89DDFF;" data-v-d8a60372>&#39;</span><span style="color:#89DDFF;" data-v-d8a60372>:</span><span style="color:#BABED8;" data-v-d8a60372> </span><span style="color:#89DDFF;" data-v-d8a60372>&#39;</span><span style="color:#C3E88D;" data-v-d8a60372>#44cef6</span><span style="color:#89DDFF;" data-v-d8a60372>&#39;</span><span style="color:#89DDFF;" data-v-d8a60372>,</span></span>
<span class="line" data-v-d8a60372><span style="color:#BABED8;" data-v-d8a60372>    </span><span style="color:#89DDFF;" data-v-d8a60372>&#39;</span><span style="color:#F07178;" data-v-d8a60372>stroke-opacity</span><span style="color:#89DDFF;" data-v-d8a60372>&#39;</span><span style="color:#89DDFF;" data-v-d8a60372>:</span><span style="color:#BABED8;" data-v-d8a60372> </span><span style="color:#F78C6C;" data-v-d8a60372>0.5</span><span style="color:#89DDFF;" data-v-d8a60372>,</span></span>
<span class="line" data-v-d8a60372><span style="color:#BABED8;" data-v-d8a60372>    </span><span style="color:#89DDFF;" data-v-d8a60372>&#39;</span><span style="color:#F07178;" data-v-d8a60372>stroke-dasharray</span><span style="color:#89DDFF;" data-v-d8a60372>&#39;</span><span style="color:#89DDFF;" data-v-d8a60372>:</span><span style="color:#BABED8;" data-v-d8a60372> [</span><span style="color:#F78C6C;" data-v-d8a60372>5</span><span style="color:#89DDFF;" data-v-d8a60372>,</span><span style="color:#BABED8;" data-v-d8a60372> </span><span style="color:#F78C6C;" data-v-d8a60372>3</span><span style="color:#BABED8;" data-v-d8a60372>]</span><span style="color:#89DDFF;" data-v-d8a60372>,</span></span>
<span class="line" data-v-d8a60372><span style="color:#BABED8;" data-v-d8a60372>    </span><span style="color:#89DDFF;" data-v-d8a60372>&#39;</span><span style="color:#F07178;" data-v-d8a60372>vertex-radius</span><span style="color:#89DDFF;" data-v-d8a60372>&#39;</span><span style="color:#89DDFF;" data-v-d8a60372>:</span><span style="color:#BABED8;" data-v-d8a60372> </span><span style="color:#F78C6C;" data-v-d8a60372>4</span><span style="color:#89DDFF;" data-v-d8a60372>,</span></span>
<span class="line" data-v-d8a60372><span style="color:#BABED8;" data-v-d8a60372>    </span><span style="color:#89DDFF;" data-v-d8a60372>&#39;</span><span style="color:#F07178;" data-v-d8a60372>vertex-color</span><span style="color:#89DDFF;" data-v-d8a60372>&#39;</span><span style="color:#89DDFF;" data-v-d8a60372>:</span><span style="color:#BABED8;" data-v-d8a60372> </span><span style="color:#89DDFF;" data-v-d8a60372>&#39;</span><span style="color:#C3E88D;" data-v-d8a60372>#fff</span><span style="color:#89DDFF;" data-v-d8a60372>&#39;</span><span style="color:#89DDFF;" data-v-d8a60372>,</span></span>
<span class="line" data-v-d8a60372><span style="color:#BABED8;" data-v-d8a60372>    </span><span style="color:#89DDFF;" data-v-d8a60372>&#39;</span><span style="color:#F07178;" data-v-d8a60372>vertex-stroke-width</span><span style="color:#89DDFF;" data-v-d8a60372>&#39;</span><span style="color:#89DDFF;" data-v-d8a60372>:</span><span style="color:#BABED8;" data-v-d8a60372> </span><span style="color:#F78C6C;" data-v-d8a60372>1</span><span style="color:#89DDFF;" data-v-d8a60372>,</span></span>
<span class="line" data-v-d8a60372><span style="color:#BABED8;" data-v-d8a60372>    </span><span style="color:#89DDFF;" data-v-d8a60372>&#39;</span><span style="color:#F07178;" data-v-d8a60372>vertex-stroke-color</span><span style="color:#89DDFF;" data-v-d8a60372>&#39;</span><span style="color:#89DDFF;" data-v-d8a60372>:</span><span style="color:#BABED8;" data-v-d8a60372> </span><span style="color:#89DDFF;" data-v-d8a60372>&#39;</span><span style="color:#C3E88D;" data-v-d8a60372>#44cef6</span><span style="color:#89DDFF;" data-v-d8a60372>&#39;</span><span style="color:#89DDFF;" data-v-d8a60372>,</span></span>
<span class="line" data-v-d8a60372><span style="color:#BABED8;" data-v-d8a60372>  </span><span style="color:#89DDFF;" data-v-d8a60372>},</span></span>
<span class="line" data-v-d8a60372><span style="color:#BABED8;" data-v-d8a60372>  </span><span style="color:#F07178;" data-v-d8a60372>finishedStyle</span><span style="color:#89DDFF;" data-v-d8a60372>:</span><span style="color:#BABED8;" data-v-d8a60372> </span><span style="color:#89DDFF;" data-v-d8a60372>{</span></span>
<span class="line" data-v-d8a60372><span style="color:#BABED8;" data-v-d8a60372>    </span><span style="color:#89DDFF;" data-v-d8a60372>&#39;</span><span style="color:#F07178;" data-v-d8a60372>fill-opacity</span><span style="color:#89DDFF;" data-v-d8a60372>&#39;</span><span style="color:#89DDFF;" data-v-d8a60372>:</span><span style="color:#BABED8;" data-v-d8a60372> </span><span style="color:#F78C6C;" data-v-d8a60372>0.3</span><span style="color:#89DDFF;" data-v-d8a60372>,</span></span>
<span class="line" data-v-d8a60372><span style="color:#BABED8;" data-v-d8a60372>    </span><span style="color:#89DDFF;" data-v-d8a60372>&#39;</span><span style="color:#F07178;" data-v-d8a60372>stroke-opacity</span><span style="color:#89DDFF;" data-v-d8a60372>&#39;</span><span style="color:#89DDFF;" data-v-d8a60372>:</span><span style="color:#BABED8;" data-v-d8a60372> </span><span style="color:#F78C6C;" data-v-d8a60372>1</span><span style="color:#89DDFF;" data-v-d8a60372>,</span></span>
<span class="line" data-v-d8a60372><span style="color:#BABED8;" data-v-d8a60372>    </span><span style="color:#89DDFF;" data-v-d8a60372>&#39;</span><span style="color:#F07178;" data-v-d8a60372>stroke-dasharray</span><span style="color:#89DDFF;" data-v-d8a60372>&#39;</span><span style="color:#89DDFF;" data-v-d8a60372>:</span><span style="color:#BABED8;" data-v-d8a60372> [</span><span style="color:#F78C6C;" data-v-d8a60372>1</span><span style="color:#89DDFF;" data-v-d8a60372>,</span><span style="color:#BABED8;" data-v-d8a60372> </span><span style="color:#F78C6C;" data-v-d8a60372>0</span><span style="color:#BABED8;" data-v-d8a60372>]</span></span>
<span class="line" data-v-d8a60372><span style="color:#BABED8;" data-v-d8a60372>  </span><span style="color:#89DDFF;" data-v-d8a60372>}</span></span>
<span class="line" data-v-d8a60372><span style="color:#89DDFF;" data-v-d8a60372>}</span><span style="color:#BABED8;" data-v-d8a60372>)</span></span>
<span class="line" data-v-d8a60372><span style="color:#BABED8;" data-v-d8a60372>rectAreaPicker</span><span style="color:#89DDFF;" data-v-d8a60372>.</span><span style="color:#82AAFF;" data-v-d8a60372>addTo</span><span style="color:#BABED8;" data-v-d8a60372>(map)</span></span>
<span class="line" data-v-d8a60372><span style="color:#BABED8;" data-v-d8a60372>rectAreaPicker</span><span style="color:#89DDFF;" data-v-d8a60372>.</span><span style="color:#82AAFF;" data-v-d8a60372>on</span><span style="color:#BABED8;" data-v-d8a60372>(</span><span style="color:#89DDFF;" data-v-d8a60372>&#39;</span><span style="color:#C3E88D;" data-v-d8a60372>finish</span><span style="color:#89DDFF;" data-v-d8a60372>&#39;</span><span style="color:#89DDFF;" data-v-d8a60372>,</span><span style="color:#BABED8;" data-v-d8a60372> </span><span style="color:#89DDFF;" data-v-d8a60372>(</span><span style="color:#BABED8;font-style:italic;" data-v-d8a60372>e</span><span style="color:#89DDFF;" data-v-d8a60372>)</span><span style="color:#BABED8;" data-v-d8a60372> </span><span style="color:#C792EA;" data-v-d8a60372>=&gt;</span><span style="color:#BABED8;" data-v-d8a60372> </span><span style="color:#89DDFF;" data-v-d8a60372>{</span></span>
<span class="line" data-v-d8a60372><span style="color:#F07178;" data-v-d8a60372>  </span><span style="color:#BABED8;" data-v-d8a60372>ElMessage</span><span style="color:#89DDFF;" data-v-d8a60372>.</span><span style="color:#82AAFF;" data-v-d8a60372>success</span><span style="color:#F07178;" data-v-d8a60372>(</span><span style="color:#89DDFF;" data-v-d8a60372>\`</span><span style="color:#C3E88D;" data-v-d8a60372>绘制完成，面积：</span><span style="color:#89DDFF;" data-v-d8a60372>\${</span><span style="color:#BABED8;" data-v-d8a60372>e</span><span style="color:#89DDFF;" data-v-d8a60372>.</span><span style="color:#BABED8;" data-v-d8a60372>acreage</span><span style="color:#89DDFF;" data-v-d8a60372>}</span><span style="color:#C3E88D;" data-v-d8a60372>平方米</span><span style="color:#89DDFF;" data-v-d8a60372>\`</span><span style="color:#F07178;" data-v-d8a60372>)</span></span>
<span class="line" data-v-d8a60372><span style="color:#89DDFF;" data-v-d8a60372>}</span><span style="color:#BABED8;" data-v-d8a60372>)</span></span>
<span class="line" data-v-d8a60372></span>
<span class="line" data-v-d8a60372><span style="color:#C792EA;" data-v-d8a60372>const</span><span style="color:#BABED8;" data-v-d8a60372> clear </span><span style="color:#89DDFF;" data-v-d8a60372>=</span><span style="color:#BABED8;" data-v-d8a60372> </span><span style="color:#89DDFF;" data-v-d8a60372>()</span><span style="color:#BABED8;" data-v-d8a60372> </span><span style="color:#C792EA;" data-v-d8a60372>=&gt;</span><span style="color:#BABED8;" data-v-d8a60372> </span><span style="color:#89DDFF;" data-v-d8a60372>{</span></span>
<span class="line" data-v-d8a60372><span style="color:#F07178;" data-v-d8a60372>  </span><span style="color:#BABED8;" data-v-d8a60372>rectAreaPicker</span><span style="color:#89DDFF;" data-v-d8a60372>?.</span><span style="color:#82AAFF;" data-v-d8a60372>clear</span><span style="color:#F07178;" data-v-d8a60372>()</span></span>
<span class="line" data-v-d8a60372><span style="color:#89DDFF;" data-v-d8a60372>}</span></span>
<span class="line" data-v-d8a60372></span>
<span class="line" data-v-d8a60372><span style="color:#C792EA;" data-v-d8a60372>const</span><span style="color:#BABED8;" data-v-d8a60372> getData </span><span style="color:#89DDFF;" data-v-d8a60372>=</span><span style="color:#BABED8;" data-v-d8a60372> </span><span style="color:#89DDFF;" data-v-d8a60372>()</span><span style="color:#BABED8;" data-v-d8a60372> </span><span style="color:#C792EA;" data-v-d8a60372>=&gt;</span><span style="color:#BABED8;" data-v-d8a60372> </span><span style="color:#89DDFF;" data-v-d8a60372>{</span></span>
<span class="line" data-v-d8a60372><span style="color:#F07178;" data-v-d8a60372>  </span><span style="color:#BABED8;" data-v-d8a60372>console</span><span style="color:#89DDFF;" data-v-d8a60372>.</span><span style="color:#82AAFF;" data-v-d8a60372>log</span><span style="color:#F07178;" data-v-d8a60372>(</span><span style="color:#BABED8;" data-v-d8a60372>rectAreaPicker</span><span style="color:#89DDFF;" data-v-d8a60372>?.</span><span style="color:#82AAFF;" data-v-d8a60372>getData</span><span style="color:#F07178;" data-v-d8a60372>())</span></span>
<span class="line" data-v-d8a60372><span style="color:#89DDFF;" data-v-d8a60372>}</span></span>
<span class="line" data-v-d8a60372></span></code></pre></div></details>`,1),q=JSON.parse('{"title":"区域框选（矩形）(RectAreaPicker)","description":"","frontmatter":{},"headers":[],"relativePath":"util/rect-area-picker.md"}'),g={name:"util/rect-area-picker.md"},h=Object.assign(g,{setup(u){let t,a;const o=d=>{t=d,a=new r({style:{"fill-color":"#44cef6","fill-opacity":.2,"stroke-width":2,"stroke-color":"#44cef6","stroke-opacity":.5,"stroke-dasharray":[5,3],"vertex-radius":4,"vertex-color":"#fff","vertex-stroke-width":1,"vertex-stroke-color":"#44cef6"},finishedStyle:{"fill-opacity":.3,"stroke-opacity":1,"stroke-dasharray":[1,0]}}),a.addTo(t),a.on("finish",n=>{v.success(`绘制完成，面积：${n.acreage}平方米`)})},p=()=>{a==null||a.clear()},e=()=>{console.log(a==null?void 0:a.getData())};return D(()=>{a==null||a.remove()}),(d,n)=>(F(),i("div",null,[A,s("div",null,[B(c,{class:"map-view",style:{height:"600px","border-radius":"5px",overflow:"hidden"},onLoad:o}),s("div",{class:"button-wrapper"},[s("div",{class:"button",onClick:p},"清除"),s("div",{class:"button",onClick:e},"获取")])]),E]))}}),T=y(h,[["__scopeId","data-v-d8a60372"]]);export{q as __pageData,T as default};
