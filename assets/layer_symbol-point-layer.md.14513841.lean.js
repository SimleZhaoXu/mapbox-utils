import{i as r}from"./chunks/index.2b688e21.js";import{M as y}from"./chunks/map-view.3fe756a0.js";import{f as D,p as F,e as i}from"./chunks/mapbox-utils.esm.43c6f587.js";import{p as B}from"./chunks/data.11da26c8.js";import{a1 as A,h as E,i as d,E as g,N as o}from"./chunks/framework.73679867.js";import"./chunks/icon-plane.f5da0d65.js";import"./chunks/mapbox-gl.95dcea97.js";import"./chunks/index.4ed993c7.js";import"./chunks/map_tian.a52cb535.js";const h=o("",51),m=o("",1),T=JSON.parse('{"title":"图标图层（SymbolPointLayer）","description":"","frontmatter":{},"headers":[],"relativePath":"layer/symbol-point-layer.md"}'),u={name:"layer/symbol-point-layer.md"},O=Object.assign(u,{setup(C){let n,a;const e=D(B.map((l,s)=>{const p=Math.floor(Math.random()*4+1);return F(l,{id:s+1,type:p+""})})),t=l=>{n=l,r.forEach(s=>{n.loadImage(s.path,(p,c)=>{if(p)throw p;n.addImage(s.name,c,{pixelRatio:s.name.startsWith("alarm")?2:10})})}),a=new i({key:"id",data:e,style:{"icon-image":["get",["get","type"],["literal",{1:"alarm-01",2:"alarm-02",3:"alarm-03",4:"alarm-04"}]],"icon-size":1,"icon-allow-overlap":!0,"icon-ignore-placement":!0},highlightOptions:{trigger:"click",style:{"icon-image":["get",["get","type"],["literal",{1:"alarm-01-active",2:"alarm-02-active",3:"alarm-03-active",4:"alarm-04-active"}]]}},fitBoundsOptions:{padding:20}}),a.addTo(n),a.on("click",s=>{n.easeTo({center:s.lngLat})})};return A(()=>{a==null||a.remove()}),(l,s)=>(E(),d("div",null,[h,g(y,{class:"map-view",style:{height:"600px","border-radius":"5px",overflow:"hidden"},onLoad:t}),m]))}});export{T as __pageData,O as default};
