import{M as E,t as _}from"./mapbox-utils.esm.1d7eedb7.js";import{i as B,a as D,S as A}from"./index.2419e32d.js";import{s as F,e as T}from"./style.332400f5.js";import{f as b,g as h,a as g}from"./data.14459cbc.js";import{g as y}from"./highlight-layer.34c52c3d.js";import{_ as O,d as C,r as w,m as H,g as S,c as I,h as P,e as G,o as U}from"./index.3f3ae0c4.js";import"./sn_border.2879f07a.js";const k={...F,...T},N={style:{"icon-image":"alarm-01","icon-size":1,"icon-offset":[0,0],"icon-anchor":"center","icon-rotate":0,"icon-allow-overlap":!0,"icon-ignore-placement":!0,"icon-text-fit":"none","icon-rotation-alignment":"auto","icon-pitch-alignment":"auto","text-rotation-alignment":"auto","text-pitch-alignment":"auto","text-field":"","text-font":["Noto Sans Regular"],"text-size":16,"text-max-width":10,"text-line-height":1.2,"text-letter-spacing":0,"text-justify":"center","text-anchor":"center","text-rotate":0,"text-offset":[0,0],"text-allow-overlap":!0,"text-ignore-placement":!0,"icon-opacity":1,"icon-color":"#000000","icon-halo-color":"rgba(0,0,0,0)","icon-halo-width":0,"icon-halo-blur":0,"icon-translate":[0,0],"icon-translate-anchor":"map","text-opacity":1,"text-color":"#000000","text-halo-color":"rgba(0,0,0,0)","text-halo-width":0,"text-halo-blur":0,"text-translate":[0,0],"text-translate-anchor":"map"},enableHighlight:!0,highlightOptions:{trigger:"click",style:{"icon-image":"alarm-01-active","icon-size":1,"icon-offset":[0,0],"text-field":"","text-size":16,"icon-opacity":1,"icon-color":"#000000","icon-halo-color":"rgba(0,0,0,0)","icon-halo-width":0,"icon-halo-blur":0,"text-opacity":1,"text-color":"#000000","text-halo-color":"rgba(0,0,0,0)","text-halo-width":1,"text-halo-blur":1}},enableFitBounds:"1",fitBoundsOptions:b},f=localStorage.getItem("SymbolPointLayerOptions"),r=f?JSON.parse(f):N,z=()=>y(r,k);const M={class:"symbol-point-gui"},J=C({__name:"index",setup(K){const p=[{name:"alarm-01",path:"./map-icon/alarm-01.png",pixelRatio:1},{name:"alarm-01-active",path:"./map-icon/alarm-01-active.png",pixelRatio:1}],d=w();H(()=>{var e;(e=d.value)==null||e.appendChild(l.domElement),l.domElement.classList.add("custom-gui")});let n=h(100),i,t;const x=e=>{i=e,m()},m=()=>{if(!i){console.log("\u8BF7\u7B49\u5F85\u5730\u56FE\u52A0\u8F7D\uFF01");return}t==null||t.remove(),t=new _({key:"id",data:g(n),...z()}),t.addTo(i)};S(()=>{l.destroy(),t==null||t.remove(),i.remove(),i=void 0,t=void 0});const v=()=>{localStorage.setItem("SymbolPointLayerOptions",JSON.stringify(r)),m()},l=new B.GUI({name:"symbol-point",autoPlace:!1,width:400,closeOnTop:!0});D(l,r,A,v);let u=-1;const s=()=>(u++,u>=n.length&&(u=0),n[u].id),o={addTo:()=>{t.addTo(i)},remove:()=>{t==null||t.remove()},setData:()=>{n=h(200),t==null||t.setData(g(n))},setHighlight:()=>{t.setHighlight(s())},easeTo_highlight:()=>{const e=s();t==null||t.setHighlight(e).easeTo(e)},flyTo_highlight:()=>{const e=s();t==null||t.setHighlight(e).flyTo(e)},removeHighlight:()=>{t==null||t.removeHighlight()},easeTo:()=>{t==null||t.easeTo(s())},flyTo:()=>{t==null||t.flyTo(s())},fitBounds:()=>{t==null||t.fitBounds()}},a=l.addFolder("API");a.open(),a.add(o,"addTo").name("\u6DFB\u52A0\u5230\u5730\u56FE---addTo(map)"),a.add(o,"remove").name("\u4ECE\u5730\u56FE\u4E0A\u79FB\u9664---remove()"),a.add(o,"setData").name("\u5207\u6362\u6570\u636E----setData(data)"),a.add(o,"easeTo").name("\u5E73\u79FB\u5B9A\u4F4D\u5230\u67D0\u4E2A\u70B9----easeTo(valOfKey)"),a.add(o,"flyTo").name("\u98DE\u884C\u5B9A\u4F4D\u5230\u67D0\u4E2A\u70B9----flyTo(valOfKey)"),a.add(o,"setHighlight").name("\u5C06\u67D0\u4E2A\u70B9\u9AD8\u4EAE-------setHighlight(valOfKey)"),a.add(o,"removeHighlight").name("\u79FB\u9664\u9AD8\u4EAE\u6548\u679C-------removeHighlight()"),a.add(o,"fitBounds").name("\u70B9\u4F4D\u9002\u5E94\u89C6\u53E3-------fitBounds(options)");const c=a.addFolder("\u9AD8\u4EAE\u548C\u5B9A\u4F4D\u7684\u7EC4\u5408");return c.open(),c.add(o,"easeTo_highlight").name("\u5E73\u79FB+\u9AD8\u4EAE"),c.add(o,"flyTo_highlight").name("\u98DE\u884C+\u9AD8\u4EAE"),(e,R)=>(U(),I("div",M,[P(E,{"icon-list":p,onLoad:x}),G("div",{ref_key:"container",ref:d,class:"gui-container"},null,512)]))}});var Y=O(J,[["__scopeId","data-v-057d7421"]]);export{Y as default};
